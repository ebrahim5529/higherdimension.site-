import{u as B,a as h,b as $,j as e,H as z,r as _}from"./app-C4SmtXzs.js";import{D as H,B as U,c as G,P as V,U as Y}from"./DashboardLayout-CMBsVX61.js";import{C as y,b as v,c as N,a as f}from"./card-CGBAZfCO.js";import{B as g}from"./button-CPi2Vosb.js";import{I as n}from"./input-qDfbrajX.js";import{s as b}from"./use-toast-B9HC7Yw7.js";import{c as q,a as T,b as J}from"./customersData-48ZDDR8v.js";import{A as K}from"./arrow-left-vgf7Q5lf.js";import{U as D,F as C}from"./user-BFbh6T51.js";import{P as Q}from"./phone-BNjyhZNU.js";import{S as L}from"./star-BrX2yoFz.js";import{T as X}from"./trash-2-BFFXdZS-.js";import{M as Z}from"./mail-ZHQO5KUs.js";import{M as ee}from"./map-pin-BGfRqu9a.js";import{I as ae}from"./image-DkdGy7dK.js";import{U as P}from"./upload-hBGJxNAI.js";import{T as re}from"./triangle-alert-BuVdEArW.js";import{S as se}from"./save-uAZOBswd.js";/* empty css            */import"./eye-pcZE0Q26.js";function ke({customer:r}){const{flash:p}=B().props,[c,j]=h.useState(r.phones||[]),[I,S]=h.useState(!1),[i,m]=h.useState({idCardCopy:r.id_card_copy_path||void 0,guarantorIdCardCopy:r.guarantor_id_card_copy_path||void 0,commercialRecordCopy:r.commercial_record_copy_path||void 0});h.useEffect(()=>{p?.success&&b.success("نجح",p.success),p?.error&&b.error("خطأ",p.error)},[p]);const{data:s,setData:l,put:F,processing:k,errors:u}=$({name:r.name||"",email:r.email||"",phone:r.phone||"",phones:r.phones||[],address:r.address||"",nationality:r.nationality||"",customerType:r.customer_type||"INDIVIDUAL",idNumber:r.id_number||"",commercialRecord:r.commercial_record||"",status:r.status||"ACTIVE",registration_date:r.registration_date||"",guarantorName:r.guarantor_name||"",guarantorPhone:r.guarantor_phone||"",guarantorId:r.guarantor_id||"",guarantorData:r.guarantorData||{name:r.guarantor_name||"",phone:r.guarantor_phone||"",idNumber:r.guarantor_id||"",nationality:"",address:"",relationship:"",workPlace:"",workPhone:""},notes:r.notes||"",warnings:r.warnings||"",rating:r.rating?.toString()||"",idCardCopy:null,guarantorIdCardCopy:null,commercialRecordCopy:null}),A=()=>{if(c.length<3){const a={number:"",type:"MOBILE",label:"",isPrimary:c.length===0},t=[...c,a];j(t),l("phones",t)}},E=a=>{const t=c.filter((d,o)=>o!==a);j(t),l("phones",t)},W=a=>{const t=c.map((d,o)=>({...d,isPrimary:o===a}));j(t),l("phones",t)},w=(a,t,d)=>{const o=c.map((R,M)=>M===a?{...R,[t]:d}:R);j(o),l("phones",o)},x=(a,t)=>{a==="idCardCopy"?(l("idCardCopy",t),t&&t.type.startsWith("image/")?m(d=>({...d,idCardCopy:URL.createObjectURL(t)})):m(d=>{const o={...d};return r.id_card_copy_path?o.idCardCopy=r.id_card_copy_path:delete o.idCardCopy,o})):a==="guarantorIdCardCopy"?(l("guarantorIdCardCopy",t),t&&t.type.startsWith("image/")?m(d=>({...d,guarantorIdCardCopy:URL.createObjectURL(t)})):m(d=>{const o={...d};return r.guarantor_id_card_copy_path?o.guarantorIdCardCopy=r.guarantor_id_card_copy_path:delete o.guarantorIdCardCopy,o})):a==="commercialRecordCopy"&&(l("commercialRecordCopy",t),t&&t.type.startsWith("image/")?m(d=>({...d,commercialRecordCopy:URL.createObjectURL(t)})):m(d=>{const o={...d};return r.commercial_record_copy_path?o.commercialRecordCopy=r.commercial_record_copy_path:delete o.commercialRecordCopy,o}))},O=a=>{a.preventDefault(),F(`/customers/${r.id}`,{forceFormData:!0,onSuccess:()=>{b.success("تم التحديث بنجاح","تم تحديث بيانات العميل بنجاح"),_.visit(`/customers/${r.id}`)},onError:t=>{t.message?b.error("خطأ في التحديث",t.message):b.error("خطأ في التحديث","يرجى التحقق من البيانات المدخلة")}})};return h.useEffect(()=>{const a=!!(s.nationality&&s.nationality!=="عماني"&&s.customerType==="INDIVIDUAL");S(a)},[s.nationality,s.customerType]),h.useEffect(()=>()=>{Object.values(i).forEach(a=>{a&&a.startsWith("blob:")&&URL.revokeObjectURL(a)})},[i]),e.jsxs(H,{children:[e.jsx(z,{title:`تعديل ${r.name}`}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{variant:"ghost",size:"sm",onClick:()=>_.visit(`/customers/${r.id}`),children:e.jsx(K,{className:"h-4 w-4"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(D,{className:"h-6 w-6"}),"تعديل بيانات العميل"]})})]})}),e.jsxs("form",{onSubmit:O,className:"space-y-6",children:[e.jsxs(y,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsx(f,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["اسم العميل ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{type:"text",value:s.name,onChange:a=>l("name",a.target.value),placeholder:"أدخل اسم العميل",className:u.name?"border-red-500":""}),u.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["نوع العميل ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:q.map(a=>e.jsxs("button",{type:"button",onClick:()=>l("customerType",a.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${s.customerType===a.value?"bg-primary text-white border-primary":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[a.value==="COMPANY"?e.jsx(U,{className:"h-4 w-4"}):e.jsx(D,{className:"h-4 w-4"}),a.label]},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهوية"}),e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(n,{type:"text",value:s.idNumber,onChange:a=>l("idNumber",a.target.value),className:"pr-10",placeholder:"أدخل رقم الهوية"})]})]}),s.customerType==="COMPANY"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"السجل التجاري"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(n,{type:"text",value:s.commercialRecord,onChange:a=>l("commercialRecord",a.target.value),className:"pr-10",placeholder:"أدخل السجل التجاري"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الجنسية"}),e.jsxs("select",{value:s.nationality,onChange:a=>l("nationality",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر الجنسية"}),T.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهاتف الرئيسي"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(n,{type:"tel",value:s.phone,onChange:a=>l("phone",a.target.value),className:"pr-10",placeholder:"أدخل رقم الهاتف الرئيسي"})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium",children:"أرقام هواتف إضافية (اختياري)"}),c.length<3&&e.jsxs(g,{type:"button",variant:"outline",size:"sm",onClick:A,className:"flex items-center gap-1",children:[e.jsx(V,{className:"h-3 w-3"}),"إضافة رقم"]})]}),c.map((a,t)=>e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"flex-1",children:e.jsx(n,{type:"tel",value:a.number,onChange:d=>w(t,"number",d.target.value),placeholder:"رقم الهاتف"})}),e.jsx("div",{className:"w-32",children:e.jsxs("select",{value:a.type,onChange:d=>w(t,"type",d.target.value),className:"w-full px-2 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-sm dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"MOBILE",children:"جوال"}),e.jsx("option",{value:"LANDLINE",children:"أرضي"}),e.jsx("option",{value:"WHATSAPP",children:"واتساب"})]})}),e.jsx("div",{className:"w-24",children:e.jsx(n,{type:"text",value:a.label,onChange:d=>w(t,"label",d.target.value),className:"text-sm",placeholder:"تسمية"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>W(t),className:`h-8 w-8 p-0 ${a.isPrimary?"bg-primary text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300"}`,title:"رقم رئيسي",children:e.jsx(L,{className:"h-3 w-3"})}),e.jsx(g,{type:"button",variant:"ghost",size:"sm",onClick:()=>E(t),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"حذف",children:e.jsx(X,{className:"h-3 w-3"})})]})]},t))]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(Z,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(n,{type:"email",value:s.email,onChange:a=>l("email",a.target.value),className:"pr-10",placeholder:"أدخل البريد الإلكتروني"})]}),u.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:u.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"العنوان"}),e.jsxs("div",{className:"relative",children:[e.jsx(ee,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{value:s.address,onChange:a=>l("address",a.target.value),rows:3,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل العنوان الكامل"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"حالة العميل"}),e.jsx("select",{value:s.status,onChange:a=>l("status",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:J.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التقييم"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("select",{value:s.rating,onChange:a=>l("rating",a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر التقييم"}),e.jsx("option",{value:"1",children:"1 - ضعيف"}),e.jsx("option",{value:"2",children:"2 - مقبول"}),e.jsx("option",{value:"3",children:"3 - جيد"}),e.jsx("option",{value:"4",children:"4 - جيد جداً"}),e.jsx("option",{value:"5",children:"5 - ممتاز"})]})]})]})]})})]}),e.jsxs(y,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5"}),"معلومات الضامن ",I?"(مطلوب للعملاء غير العمانيين)":"(اختياري)"]})}),e.jsx(f,{children:I?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["اسم الضامن ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{type:"text",value:s.guarantorData.name,onChange:a=>l("guarantorData",{...s.guarantorData,name:a.target.value}),placeholder:"أدخل اسم الضامن"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["هاتف الضامن ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{type:"tel",value:s.guarantorData.phone,onChange:a=>l("guarantorData",{...s.guarantorData,phone:a.target.value}),placeholder:"أدخل هاتف الضامن"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["رقم هوية الضامن ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{type:"text",value:s.guarantorData.idNumber,onChange:a=>l("guarantorData",{...s.guarantorData,idNumber:a.target.value}),placeholder:"أدخل رقم هوية الضامن"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["جنسية الضامن ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:s.guarantorData.nationality,onChange:a=>l("guarantorData",{...s.guarantorData,nationality:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر جنسية الضامن"}),T.map(a=>e.jsx("option",{value:a,children:a},a))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["صلة القرابة ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(n,{type:"text",value:s.guarantorData.relationship,onChange:a=>l("guarantorData",{...s.guarantorData,relationship:a.target.value}),placeholder:"مثل: أخ، أب، صديق"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"مكان العمل"}),e.jsx(n,{type:"text",value:s.guarantorData.workPlace,onChange:a=>l("guarantorData",{...s.guarantorData,workPlace:a.target.value}),placeholder:"أدخل مكان العمل"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["عنوان الضامن ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:s.guarantorData.address,onChange:a=>l("guarantorData",{...s.guarantorData,address:a.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل عنوان الضامن الكامل"})]})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم الضامن"}),e.jsx(n,{type:"text",value:s.guarantorName,onChange:a=>l("guarantorName",a.target.value),placeholder:"أدخل اسم الضامن"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"هاتف الضامن"}),e.jsx(n,{type:"tel",value:s.guarantorPhone,onChange:a=>l("guarantorPhone",a.target.value),placeholder:"أدخل هاتف الضامن"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم هوية الضامن"}),e.jsx(n,{type:"text",value:s.guarantorId,onChange:a=>l("guarantorId",a.target.value),placeholder:"أدخل رقم هوية الضامن"})]})]})})]}),e.jsxs(y,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"المرفقات"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نسخة البطاقة الشخصية للعميل"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center",children:i.idCardCopy?e.jsxs("div",{className:"space-y-2",children:[i.idCardCopy.startsWith("blob:")||i.idCardCopy.startsWith("http")?e.jsx("img",{src:i.idCardCopy,alt:"معاينة البطاقة الشخصية",className:"max-w-full h-32 object-contain mx-auto rounded border"}):e.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded border",children:e.jsx(C,{className:"h-8 w-8 text-gray-400"})}),e.jsx("button",{type:"button",onClick:()=>x("idCardCopy",null),className:"text-sm text-red-600 hover:text-red-700",children:"إزالة الصورة"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",id:"customer-id-card",onChange:a=>x("idCardCopy",a.target.files?.[0]||null)}),e.jsx("label",{htmlFor:"customer-id-card",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400 hover:text-primary",children:"اضغط لرفع نسخة البطاقة الشخصية (PDF أو صورة)"})]})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نسخة بطاقة الضامن الشخصية"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center",children:i.guarantorIdCardCopy?e.jsxs("div",{className:"space-y-2",children:[i.guarantorIdCardCopy.startsWith("blob:")||i.guarantorIdCardCopy.startsWith("http")?e.jsx("img",{src:i.guarantorIdCardCopy,alt:"معاينة بطاقة الضامن",className:"max-w-full h-32 object-contain mx-auto rounded border"}):e.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded border",children:e.jsx(C,{className:"h-8 w-8 text-gray-400"})}),e.jsx("button",{type:"button",onClick:()=>x("guarantorIdCardCopy",null),className:"text-sm text-red-600 hover:text-red-700",children:"إزالة الصورة"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",id:"guarantor-id-card",onChange:a=>x("guarantorIdCardCopy",a.target.files?.[0]||null)}),e.jsx("label",{htmlFor:"guarantor-id-card",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400 hover:text-primary",children:"اضغط لرفع نسخة بطاقة الضامن (PDF أو صورة)"})]})})]}),s.customerType==="COMPANY"&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نسخة السجل التجاري"}),e.jsx("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 text-center",children:i.commercialRecordCopy?e.jsxs("div",{className:"space-y-2",children:[i.commercialRecordCopy.startsWith("blob:")||i.commercialRecordCopy.startsWith("http")?e.jsx("img",{src:i.commercialRecordCopy,alt:"معاينة السجل التجاري",className:"max-w-full h-32 object-contain mx-auto rounded border"}):e.jsx("div",{className:"flex items-center justify-center h-32 bg-gray-100 dark:bg-gray-800 rounded border",children:e.jsx(C,{className:"h-8 w-8 text-gray-400"})}),e.jsx("button",{type:"button",onClick:()=>x("commercialRecordCopy",null),className:"text-sm text-red-600 hover:text-red-700",children:"إزالة الصورة"})]}):e.jsxs(e.Fragment,{children:[e.jsx(P,{className:"h-8 w-8 text-gray-400 mx-auto mb-2"}),e.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",className:"hidden",id:"commercial-record",onChange:a=>x("commercialRecordCopy",a.target.files?.[0]||null)}),e.jsx("label",{htmlFor:"commercial-record",className:"cursor-pointer text-sm text-gray-600 dark:text-gray-400 hover:text-primary",children:"اضغط لرفع نسخة السجل التجاري (PDF أو صورة)"})]})})]})]})})]}),e.jsxs(y,{children:[e.jsx(v,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"الملاحظات والتحذيرات"]})}),e.jsx(f,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ملاحظات عامة"}),e.jsx("textarea",{value:s.notes,onChange:a=>l("notes",a.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي ملاحظات عامة عن العميل"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4 text-red-500"}),"تحذيرات خاصة"]}),e.jsx("textarea",{value:s.warnings,onChange:a=>l("warnings",a.target.value),rows:4,className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي تحذيرات خاصة عن العميل"})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[e.jsx(g,{type:"button",variant:"outline",onClick:()=>_.visit(`/customers/${r.id}`),disabled:k,children:"إلغاء"}),e.jsxs(g,{type:"submit",disabled:k,className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),k?"جاري الحفظ...":"حفظ التعديلات"]})]})]})]})]})}export{ke as default};
