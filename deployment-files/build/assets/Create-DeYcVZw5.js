import{u as f,a as N,b as y,j as e,H as k,r as h}from"./app-C4SmtXzs.js";import{D as w,B as b,c as C,U as P}from"./DashboardLayout-CMBsVX61.js";import{C as c,b as o,c as d,a as m}from"./card-CGBAZfCO.js";import{B as p}from"./button-CPi2Vosb.js";import{I as l}from"./input-qDfbrajX.js";import{s as n}from"./use-toast-B9HC7Yw7.js";import{s as T,a as D,b as A}from"./suppliersData-DVWfbLdD.js";import{A as S}from"./arrow-left-vgf7Q5lf.js";import{U as u,F as I}from"./user-BFbh6T51.js";import{P as E}from"./phone-BNjyhZNU.js";import{M as B}from"./mail-ZHQO5KUs.js";import{M}from"./map-pin-BGfRqu9a.js";import{S as U}from"./star-BrX2yoFz.js";import{B as F}from"./building-PhME4Jvs.js";import{T as L}from"./triangle-alert-BuVdEArW.js";import{S as R}from"./save-uAZOBswd.js";/* empty css            */import"./eye-pcZE0Q26.js";function re(){const{flash:t}=f().props;N.useEffect(()=>{t?.success&&n.success("نجح",t.success),t?.error&&n.error("خطأ",t.error)},[t]);const{data:a,setData:r,post:j,processing:x,errors:i}=y({name:"",email:"",phone:"",address:"",nationality:"",supplierType:"INDIVIDUAL",idNumber:"",commercialRecord:"",taxNumber:"",status:"ACTIVE",registrationDate:new Date().toISOString().split("T")[0],contactPerson:"",contactPersonPhone:"",contactPersonEmail:"",bankName:"",bankAccount:"",iban:"",swiftCode:"",notes:"",warnings:"",rating:""}),v=s=>{s.preventDefault(),j("/suppliers",{onSuccess:()=>{n.success("تم الإنشاء بنجاح","تم إنشاء المورد بنجاح"),h.visit("/suppliers")},onError:g=>{g.message?n.error("خطأ في الإنشاء",g.message):n.error("خطأ في الإنشاء","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(w,{children:[e.jsx(k,{title:"إضافة مورد جديد"}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>h.visit("/suppliers"),children:e.jsx(S,{className:"h-4 w-4"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(u,{className:"h-6 w-6"}),"إضافة مورد جديد"]})})]})}),e.jsxs("form",{onSubmit:v,className:"space-y-6",children:[e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsx(m,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["اسم المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{type:"text",value:a.name,onChange:s=>r("name",s.target.value),placeholder:"أدخل اسم المورد",className:i.name?"border-red-500":""}),i.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["نوع المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:T.map(s=>e.jsxs("button",{type:"button",onClick:()=>r("supplierType",s.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${a.supplierType===s.value?"bg-primary text-white border-primary":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.value==="COMPANY"?e.jsx(b,{className:"h-4 w-4"}):e.jsx(u,{className:"h-4 w-4"}),s.label]},s.value))})]}),a.supplierType==="INDIVIDUAL"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهوية"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"text",value:a.idNumber,onChange:s=>r("idNumber",s.target.value),className:"pr-10",placeholder:"أدخل رقم الهوية"})]})]}),a.supplierType==="COMPANY"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"السجل التجاري"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"text",value:a.commercialRecord,onChange:s=>r("commercialRecord",s.target.value),className:"pr-10",placeholder:"أدخل السجل التجاري"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الرقم الضريبي"}),e.jsx(l,{type:"text",value:a.taxNumber,onChange:s=>r("taxNumber",s.target.value),placeholder:"أدخل الرقم الضريبي"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الجنسية"}),e.jsxs("select",{value:a.nationality,onChange:s=>r("nationality",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر الجنسية"}),D.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"tel",value:a.phone,onChange:s=>r("phone",s.target.value),className:"pr-10",placeholder:"أدخل رقم الهاتف"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"email",value:a.email,onChange:s=>r("email",s.target.value),className:"pr-10",placeholder:"أدخل البريد الإلكتروني"})]}),i.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"العنوان"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{value:a.address,onChange:s=>r("address",s.target.value),rows:3,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل العنوان الكامل"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"حالة المورد"}),e.jsx("select",{value:a.status,onChange:s=>r("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:A.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التقييم"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("select",{value:a.rating,onChange:s=>r("rating",s.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر التقييم"}),e.jsx("option",{value:"1",children:"1 - ضعيف"}),e.jsx("option",{value:"2",children:"2 - مقبول"}),e.jsx("option",{value:"3",children:"3 - جيد"}),e.jsx("option",{value:"4",children:"4 - جيد جداً"}),e.jsx("option",{value:"5",children:"5 - ممتاز"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"تاريخ التسجيل"}),e.jsx(l,{type:"date",value:a.registrationDate,onChange:s=>r("registrationDate",s.target.value)})]})]})})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"معلومات الشخص المسؤول"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم الشخص المسؤول"}),e.jsx(l,{type:"text",value:a.contactPerson,onChange:s=>r("contactPerson",s.target.value),placeholder:"أدخل اسم الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"هاتف الشخص المسؤول"}),e.jsx(l,{type:"tel",value:a.contactPersonPhone,onChange:s=>r("contactPersonPhone",s.target.value),placeholder:"أدخل هاتف الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"بريد الشخص المسؤول"}),e.jsx(l,{type:"email",value:a.contactPersonEmail,onChange:s=>r("contactPersonEmail",s.target.value),placeholder:"أدخل بريد الشخص المسؤول"})]})]})})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"معلومات البنك"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم البنك"}),e.jsx(l,{type:"text",value:a.bankName,onChange:s=>r("bankName",s.target.value),placeholder:"أدخل اسم البنك"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الحساب"}),e.jsx(l,{type:"text",value:a.bankAccount,onChange:s=>r("bankAccount",s.target.value),placeholder:"أدخل رقم الحساب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الآيبان"}),e.jsx(l,{type:"text",value:a.iban,onChange:s=>r("iban",s.target.value),placeholder:"أدخل رقم الآيبان"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رمز السويفت"}),e.jsx(l,{type:"text",value:a.swiftCode,onChange:s=>r("swiftCode",s.target.value),placeholder:"أدخل رمز السويفت"})]})]})})]}),e.jsxs(c,{children:[e.jsx(o,{children:e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"الملاحظات والتحذيرات"]})}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ملاحظات عامة"}),e.jsx("textarea",{value:a.notes,onChange:s=>r("notes",s.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي ملاحظات عامة عن المورد"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-red-500"}),"تحذيرات خاصة"]}),e.jsx("textarea",{value:a.warnings,onChange:s=>r("warnings",s.target.value),rows:4,className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي تحذيرات خاصة عن المورد"})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[e.jsx(p,{type:"button",variant:"outline",onClick:()=>h.visit("/suppliers"),disabled:x,children:"إلغاء"}),e.jsxs(p,{type:"submit",disabled:x,className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),x?"جاري الحفظ...":"حفظ المورد"]})]})]})]})]})}export{re as default};
