import{u as h,r as j,j as e,H as g,a as d}from"./app-CCHA9ub0.js";import{D as b,g as N,d as k,U as u}from"./DashboardLayout-BHw3dqES.js";import{C as r,b as l,c,a as x}from"./card-Bly1X19M.js";import{B as m}from"./button-Bfv0f9vZ.js";import{s as n}from"./use-toast-CTmzR8DA.js";import{A as f}from"./arrow-left-BGILhFGb.js";import{I as y}from"./image-DZcOUQ10.js";import{D as p}from"./download-CEEO5W7B.js";import{F as w}from"./file-text-CauxPHHp.js";import{E as v}from"./eye-8DxskOvD.js";/* empty css            */import"./createLucideIcon-FmD0vq03.js";import"./triangle-alert-DWFl2Smt.js";import"./shield-CQHunxOJ.js";import"./circle-alert-CjQBNfBa.js";import"./map-pin-DHI_P5OF.js";import"./mail-9UAeJwq9.js";function z({payment:s,contract:t}){const{flash:a}=h().props;j.useEffect(()=>{a?.success&&n.success("نجح",a.success),a?.error&&n.error("خطأ",a.error)},[a]);const i=o=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"OMR",minimumFractionDigits:2,maximumFractionDigits:2}).format(o);return e.jsxs(b,{children:[e.jsx(g,{title:`تفاصيل الدفعة #${s.id}`}),e.jsxs("div",{className:"space-y-6 pb-8 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>d.visit("/payments"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(f,{className:"h-4 w-4"}),"العودة"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"تفاصيل الدفعة"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["رقم الدفعة: #",s.id]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(r,{className:"p-6",children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-[#58d2c8]"}),"معلومات الدفعة"]})}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"رقم الدفعة"}),e.jsxs("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["#",s.id]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"المبلغ"}),e.jsx("p",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:i(s.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"طريقة الدفع"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"تاريخ الدفع"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-gray-400"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.paymentDate})]})]}),s.checkNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"رقم الشيك"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.checkNumber})]}),s.bankName&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"البنك"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.bankName})]}),s.checkDate&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"تاريخ الشيك"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.checkDate})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"تاريخ الإنشاء"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.createdAt})]})]})})]}),s.checkImagePath&&e.jsxs(r,{className:"p-6",children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-5 w-5 text-[#58d2c8]"}),"صورة الشيك"]})}),e.jsx(x,{children:e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:s.checkImagePath,alt:"صورة الشيك",className:"max-w-full h-auto rounded-lg border border-gray-200 dark:border-gray-700"}),e.jsxs(m,{variant:"ghost",size:"sm",onClick:()=>window.open(s.checkImagePath,"_blank"),className:"absolute top-2 left-2 bg-white/90 hover:bg-white",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"تحميل"]})]})})]}),s.notes&&e.jsxs(r,{className:"p-6",children:[e.jsx(l,{children:e.jsx(c,{children:"ملاحظات"})}),e.jsx(x,{children:e.jsx("p",{className:"text-base text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:s.notes})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(r,{className:"p-6",children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-[#58d2c8]"}),"معلومات العقد"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"رقم العقد"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:t.contractNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"عنوان العقد"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:t.title})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"المبلغ الإجمالي"}),e.jsx("p",{className:"text-base font-semibold text-gray-900 dark:text-white",children:i(t.amount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"المبلغ المدفوع"}),e.jsx("p",{className:"text-base font-semibold text-green-600 dark:text-green-400",children:i(t.paidAmount)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"المبلغ المتبقي"}),e.jsx("p",{className:"text-base font-semibold text-orange-600 dark:text-orange-400",children:i(t.remainingAmount)})]}),e.jsxs(m,{variant:"outline",onClick:()=>d.visit(`/contracts/${t.id}`),className:"w-full",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"عرض العقد"]})]})]}),e.jsxs(r,{className:"p-6",children:[e.jsx(l,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-[#58d2c8]"}),"معلومات العميل"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"اسم العميل"}),e.jsx("p",{className:"text-base font-medium text-gray-900 dark:text-white",children:s.customerName})]}),s.customerPhone&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"رقم الهاتف"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.customerPhone})]}),s.customerAddress&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-1",children:"العنوان"}),e.jsx("p",{className:"text-base text-gray-900 dark:text-white",children:s.customerAddress})]})]})]})]})]})]})]})}export{z as default};
