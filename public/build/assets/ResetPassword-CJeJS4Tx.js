import{u as v,r as t,j as e,H as w,a as n}from"./app-DwRfcN6X.js";import{B as x}from"./button-DHr1rW4g.js";import{I as i}from"./input-U_QZj2le.js";import{C as k,b as C,c as S,d as E,a as L}from"./card-CNdQdVo4.js";import{s as g}from"./use-toast-xW133pbw.js";import{A as P}from"./arrow-left--VusLmB_.js";import{C as q}from"./circle-alert-Dd_--HKV.js";import{M as A}from"./mail-F3IImK8v.js";import{L as h}from"./lock-0WpKFMfz.js";/* empty css            */import"./createLucideIcon-DC1RPDG7.js";function G(){const{token:u,email:p,errors:l,flash:a}=v().props,[d,b]=t.useState(p||""),[o,j]=t.useState(""),[c,f]=t.useState(""),[r,m]=t.useState(!1);t.useEffect(()=>{a?.success&&g.success("تم بنجاح",a.success),a?.error&&g.error("خطأ",a.error)},[a]);const y=s=>{s.preventDefault(),m(!0),n.post("/reset-password",{token:u,email:d,password:o,password_confirmation:c},{onFinish:()=>m(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"إعادة تعيين كلمة المرور"}),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs(k,{className:"shadow-xl border-0 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm",children:[e.jsx(C,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(x,{type:"button",variant:"ghost",size:"sm",onClick:()=>n.visit("/login"),className:"p-2",children:e.jsx(P,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx(S,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إعادة تعيين كلمة المرور"}),e.jsx(E,{className:"text-gray-600 dark:text-gray-400",children:"أدخل كلمة مرور جديدة لحسابك"})]}),e.jsx("div",{className:"w-9"})]})}),e.jsx(L,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[l&&Object.keys(l).length>0&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg dark:bg-red-900/20 dark:border-red-800",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(q,{className:"h-5 w-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-red-800 dark:text-red-200",children:[e.jsx("div",{className:"font-semibold mb-1",children:"تعذر حفظ كلمة المرور"}),e.jsx("ul",{className:"list-disc pr-6 space-y-1",children:Object.entries(l).map(([s,N])=>e.jsx("li",{children:N},s))})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{type:"email",value:d,onChange:s=>b(s.target.value),className:"pr-10 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",required:!0,disabled:r})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"كلمة المرور الجديدة"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{type:"password",value:o,onChange:s=>j(s.target.value),className:"pr-10 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",required:!0,disabled:r})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"تأكيد كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx(h,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(i,{type:"password",value:c,onChange:s=>f(s.target.value),className:"pr-10 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600",required:!0,disabled:r})]})]}),e.jsx(x,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:r,children:r?"جاري الحفظ...":"حفظ كلمة المرور الجديدة"})]})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"© 2024 البعد العالي عمان - نظام إدارة السقالات"})})]})})]})}export{G as default};
