import{R as h,r as je,u as Pe,j as e,H as ke,a as de}from"./app-DwRfcN6X.js";import{D as Ee,b as Ce,A as De,S as Se,h as Le,g as _e}from"./DashboardLayout-BU2B3eCa.js";import{s as me}from"./use-toast-xW133pbw.js";import{C as _,b as R,c as T,a as I,d as Re}from"./card-CNdQdVo4.js";import{b as ge,B as K}from"./button-DHr1rW4g.js";import{I as Te}from"./input-U_QZj2le.js";import{F as Ie}from"./file-text-BYPGuL12.js";import{U as be,B as ie,T as Be}from"./x-gOtp1dkx.js";import{f as M,L as H,m as Y,i as z,C as te,A as Fe,a as $,b as xe,c as Ke,d as ue,h as Me,e as $e,u as ze,g as ne,G as We,j as he,k as pe,D as Ve,l as Xe,X as Q,Y as Z,n as He,R as G,P as Ue,o as Ye,p as Ge,T as q,q as ae,r as re,s as qe,t as J,B as Je,v as se}from"./PieChart-DYJqD2lW.js";import{D as Qe}from"./download-DqYq_1U8.js";import{F as Ze}from"./filter-AR_J07is.js";import{C as et}from"./circle-check-big-N2QH7t0J.js";import{E as tt}from"./eye-I9j4Fhu2.js";import{C as at}from"./chevron-left-C-AWzO_P.js";/* empty css            */import"./createLucideIcon-DC1RPDG7.js";import"./triangle-alert-CYfjpRdb.js";import"./shield-p0e6kCYj.js";import"./circle-alert-Dd_--HKV.js";import"./map-pin-D_FqHH6g.js";import"./mail-F3IImK8v.js";var rt=["layout","type","stroke","connectNulls","isRange","ref"],st=["key"],Ne;function W(t){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(t)}function Ae(t,r){if(t==null)return{};var s=it(t,r),a,n;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(t,a)&&(s[a]=t[a])}return s}function it(t,r){if(t==null)return{};var s={};for(var a in t)if(Object.prototype.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;s[a]=t[a]}return s}function B(){return B=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},B.apply(this,arguments)}function fe(t,r){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),s.push.apply(s,a)}return s}function S(t){for(var r=1;r<arguments.length;r++){var s=arguments[r]!=null?arguments[r]:{};r%2?fe(Object(s),!0).forEach(function(a){k(t,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):fe(Object(s)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(s,a))})}return t}function nt(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ye(t,r){for(var s=0;s<r.length;s++){var a=r[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,Oe(a.key),a)}}function lt(t,r,s){return r&&ye(t.prototype,r),s&&ye(t,s),Object.defineProperty(t,"prototype",{writable:!1}),t}function ot(t,r,s){return r=ee(r),ct(t,we()?Reflect.construct(r,s||[],ee(t).constructor):r.apply(t,s))}function ct(t,r){if(r&&(W(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dt(t)}function dt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function we(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(we=function(){return!!t})()}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},ee(t)}function mt(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&le(t,r)}function le(t,r){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,n){return a.__proto__=n,a},le(t,r)}function k(t,r,s){return r=Oe(r),r in t?Object.defineProperty(t,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[r]=s,t}function Oe(t){var r=xt(t,"string");return W(r)=="symbol"?r:r+""}function xt(t,r){if(W(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,r);if(W(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O=(function(t){function r(){var s;nt(this,r);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return s=ot(this,r,[].concat(n)),k(s,"state",{isAnimationFinished:!0}),k(s,"id",ze("recharts-area-")),k(s,"handleAnimationEnd",function(){var o=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),ne(o)&&o()}),k(s,"handleAnimationStart",function(){var o=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),ne(o)&&o()}),s}return mt(r,t),lt(r,[{key:"renderDots",value:function(a,n,l){var o=this.props.isAnimationActive,c=this.state.isAnimationFinished;if(o&&!c)return null;var d=this.props,m=d.dot,u=d.points,i=d.dataKey,x=M(this.props,!1),v=M(m,!0),N=u.map(function(j,P){var g=S(S(S({key:"dot-".concat(P),r:3},x),v),{},{index:P,cx:j.x,cy:j.y,dataKey:i,value:j.value,payload:j.payload,points:u});return r.renderDotItem(m,g)}),A={clipPath:a?"url(#clipPath-".concat(n?"":"dots-").concat(l,")"):null};return h.createElement(H,B({className:"recharts-area-dots"},A),N)}},{key:"renderHorizontalRect",value:function(a){var n=this.props,l=n.baseLine,o=n.points,c=n.strokeWidth,d=o[0].x,m=o[o.length-1].x,u=a*Math.abs(d-m),i=Y(o.map(function(x){return x.y||0}));return z(l)&&typeof l=="number"?i=Math.max(l,i):l&&Array.isArray(l)&&l.length&&(i=Math.max(Y(l.map(function(x){return x.y||0})),i)),z(i)?h.createElement("rect",{x:d<m?d:d-u,y:0,width:u,height:Math.floor(i+(c?parseInt("".concat(c),10):1))}):null}},{key:"renderVerticalRect",value:function(a){var n=this.props,l=n.baseLine,o=n.points,c=n.strokeWidth,d=o[0].y,m=o[o.length-1].y,u=a*Math.abs(d-m),i=Y(o.map(function(x){return x.x||0}));return z(l)&&typeof l=="number"?i=Math.max(l,i):l&&Array.isArray(l)&&l.length&&(i=Math.max(Y(l.map(function(x){return x.x||0})),i)),z(i)?h.createElement("rect",{x:0,y:d<m?d:d-u,width:i+(c?parseInt("".concat(c),10):1),height:Math.floor(u)}):null}},{key:"renderClipRect",value:function(a){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(a):this.renderHorizontalRect(a)}},{key:"renderAreaStatically",value:function(a,n,l,o){var c=this.props,d=c.layout,m=c.type,u=c.stroke,i=c.connectNulls,x=c.isRange;c.ref;var v=Ae(c,rt);return h.createElement(H,{clipPath:l?"url(#clipPath-".concat(o,")"):null},h.createElement(te,B({},M(v,!0),{points:a,connectNulls:i,type:m,baseLine:n,layout:d,stroke:"none",className:"recharts-area-area"})),u!=="none"&&h.createElement(te,B({},M(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:i,fill:"none",points:a})),u!=="none"&&x&&h.createElement(te,B({},M(this.props,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:i,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(a,n){var l=this,o=this.props,c=o.points,d=o.baseLine,m=o.isAnimationActive,u=o.animationBegin,i=o.animationDuration,x=o.animationEasing,v=o.animationId,N=this.state,A=N.prevPoints,j=N.prevBaseLine;return h.createElement(Fe,{begin:u,duration:i,isActive:m,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(P){var g=P.t;if(A){var C=A.length/c.length,p=c.map(function(w,F){var L=Math.floor(F*C);if(A[L]){var D=A[L],V=$(D.x,w.x),X=$(D.y,w.y);return S(S({},w),{},{x:V(g),y:X(g)})}return w}),f;if(z(d)&&typeof d=="number"){var b=$(j,d);f=b(g)}else if(xe(d)||Ke(d)){var E=$(j,0);f=E(g)}else f=d.map(function(w,F){var L=Math.floor(F*C);if(j[L]){var D=j[L],V=$(D.x,w.x),X=$(D.y,w.y);return S(S({},w),{},{x:V(g),y:X(g)})}return w});return l.renderAreaStatically(p,f,a,n)}return h.createElement(H,null,h.createElement("defs",null,h.createElement("clipPath",{id:"animationClipPath-".concat(n)},l.renderClipRect(g))),h.createElement(H,{clipPath:"url(#animationClipPath-".concat(n,")")},l.renderAreaStatically(c,d,a,n)))})}},{key:"renderArea",value:function(a,n){var l=this.props,o=l.points,c=l.baseLine,d=l.isAnimationActive,m=this.state,u=m.prevPoints,i=m.prevBaseLine,x=m.totalLength;return d&&o&&o.length&&(!u&&x>0||!ue(u,o)||!ue(i,c))?this.renderAreaWithAnimation(a,n):this.renderAreaStatically(o,c,a,n)}},{key:"render",value:function(){var a,n=this.props,l=n.hide,o=n.dot,c=n.points,d=n.className,m=n.top,u=n.left,i=n.xAxis,x=n.yAxis,v=n.width,N=n.height,A=n.isAnimationActive,j=n.id;if(l||!c||!c.length)return null;var P=this.state.isAnimationFinished,g=c.length===1,C=ge("recharts-area",d),p=i&&i.allowDataOverflow,f=x&&x.allowDataOverflow,b=p||f,E=xe(j)?this.id:j,w=(a=M(o,!1))!==null&&a!==void 0?a:{r:3,strokeWidth:2},F=w.r,L=F===void 0?3:F,D=w.strokeWidth,V=D===void 0?2:D,X=Me(o)?o:{},oe=X.clipDot,ce=oe===void 0?!0:oe,U=L*2+V;return h.createElement(H,{className:C},p||f?h.createElement("defs",null,h.createElement("clipPath",{id:"clipPath-".concat(E)},h.createElement("rect",{x:p?u:u-v/2,y:f?m:m-N/2,width:p?v:v*2,height:f?N:N*2})),!ce&&h.createElement("clipPath",{id:"clipPath-dots-".concat(E)},h.createElement("rect",{x:u-U/2,y:m-U/2,width:v+U,height:N+U}))):null,g?null:this.renderArea(b,E),(o||g)&&this.renderDots(b,ce,E),(!A||P)&&$e.renderCallByParent(this.props,c))}}],[{key:"getDerivedStateFromProps",value:function(a,n){return a.animationId!==n.prevAnimationId?{prevAnimationId:a.animationId,curPoints:a.points,curBaseLine:a.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:a.points!==n.curPoints||a.baseLine!==n.curBaseLine?{curPoints:a.points,curBaseLine:a.baseLine}:null}}])})(je.PureComponent);Ne=O;k(O,"displayName","Area");k(O,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!We.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});k(O,"getBaseValue",function(t,r,s,a){var n=t.layout,l=t.baseValue,o=r.props.baseValue,c=o??l;if(z(c)&&typeof c=="number")return c;var d=n==="horizontal"?a:s,m=d.scale.domain();if(d.type==="number"){var u=Math.max(m[0],m[1]),i=Math.min(m[0],m[1]);return c==="dataMin"?i:c==="dataMax"||u<0?u:Math.max(Math.min(m[0],m[1]),0)}return c==="dataMin"?m[0]:c==="dataMax"?m[1]:m[0]});k(O,"getComposedData",function(t){var r=t.props,s=t.item,a=t.xAxis,n=t.yAxis,l=t.xAxisTicks,o=t.yAxisTicks,c=t.bandSize,d=t.dataKey,m=t.stackedData,u=t.dataStartIndex,i=t.displayedData,x=t.offset,v=r.layout,N=m&&m.length,A=Ne.getBaseValue(r,s,a,n),j=v==="horizontal",P=!1,g=i.map(function(p,f){var b;N?b=m[u+f]:(b=he(p,d),Array.isArray(b)?P=!0:b=[A,b]);var E=b[1]==null||N&&he(p,d)==null;return j?{x:pe({axis:a,ticks:l,bandSize:c,entry:p,index:f}),y:E?null:n.scale(b[1]),value:b,payload:p}:{x:E?null:a.scale(b[1]),y:pe({axis:n,ticks:o,bandSize:c,entry:p,index:f}),value:b,payload:p}}),C;return N||P?C=g.map(function(p){var f=Array.isArray(p.value)?p.value[0]:null;return j?{x:p.x,y:f!=null&&p.y!=null?n.scale(f):null}:{x:f!=null?a.scale(f):null,y:p.y}}):C=j?n.scale(A):a.scale(A),S({points:g,baseLine:C,layout:v,isRange:P},x)});k(O,"renderDotItem",function(t,r){var s;if(h.isValidElement(t))s=h.cloneElement(t,r);else if(ne(t))s=t(r);else{var a=ge("recharts-area-dot",typeof t!="boolean"?t.className:""),n=r.key,l=Ae(r,st);s=h.createElement(Ve,B({},l,{key:n,className:a}))}return s});var ut=Xe({chartName:"AreaChart",GraphicalChild:O,axisComponents:[{axisType:"xAxis",AxisComp:Q},{axisType:"yAxis",AxisComp:Z}],formatAxisMap:He});const ht={Building2:ie,Users:be,DollarSign:Ce,FileText:Ie},y={"المكتب الرئيسي":"#20B2AA","مكتب الشمال":"#8A2BE2","مكتب الجنوب":"#32CD32","مكتب الشرق":"#FF8C00"},ve={ACTIVE:"bg-emerald-100 text-emerald-700 border-emerald-200",COMPLETED:"bg-blue-100 text-blue-700 border-blue-200",CANCELLED:"bg-rose-100 text-rose-700 border-rose-200",EXPIRED:"bg-slate-100 text-slate-700 border-slate-200",DRAFT:"bg-gray-100 text-gray-700 border-gray-200"},pt={ACTIVE:"نشط",COMPLETED:"مكتمل",CANCELLED:"ملغي",EXPIRED:"منتهي",DRAFT:"مسودة"};function Bt({stats:t,activities:r,lastUpdated:s,usersByOffice:a,monthlyRevenue:n,weeklyActivity:l,equipmentByOffice:o,recentContracts:c}){const{flash:d}=Pe().props;je.useEffect(()=>{d?.success&&me.success("نجح",d.success),d?.error&&me.error("خطأ",d.error)},[d]);const m=i=>new Intl.NumberFormat("en-US",{style:"currency",currency:"OMR"}).format(i),u=i=>new Intl.NumberFormat("en-US").format(i);return e.jsxs(Ee,{children:[e.jsx(ke,{title:"لوحة التحكم"}),e.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-x-auto",children:e.jsx("div",{className:"max-w-full",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"لوحة التحكم"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"نظرة عامة على عملياتك اليومية"})]}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["آخر تحديث: ",s]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(i=>{const x=ht[i.icon]||ie;return e.jsxs(_,{className:"hover:shadow-lg transition-shadow duration-200",children:[e.jsxs(R,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(T,{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:i.title}),e.jsx("div",{className:`p-2 rounded-lg ${i.color}`,children:e.jsx(x,{className:"h-5 w-5"})})]}),e.jsxs(I,{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:typeof i.value=="number"?u(i.value):i.value}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.change>0?"+":"",i.change,"% من الشهر الماضي"]})]})]},i.id)})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"إحصائيات استخدام المكاتب"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"نظرة شاملة على أداء المكاتب المختلفة مع الرسوم البيانية التفاعلية"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(_,{className:"hover:shadow-md transition-all duration-300",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{className:"text-lg font-semibold",children:"توزيع المستخدمين حسب المكاتب"}),e.jsx(be,{className:"h-5 w-5 text-blue-600"})]})}),e.jsxs(I,{children:[e.jsx("div",{className:"h-64",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(Ue,{children:[e.jsx(Ye,{data:a,cx:"50%",cy:"50%",labelLine:!1,label:({name:i,percent:x})=>`${i} ${(x*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:a.map((i,x)=>e.jsx(Ge,{fill:Object.values(y)[x%4]},`cell-${x}`))}),e.jsx(q,{})]})})}),e.jsx("div",{className:"flex justify-center space-x-6 rtl:space-x-reverse mt-4",children:a.map((i,x)=>e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Object.values(y)[x%4]}}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.name})]},i.name))})]})]}),e.jsxs(_,{className:"hover:shadow-md transition-all duration-300",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{className:"text-lg font-semibold",children:"الإيرادات الشهرية للمكاتب"}),e.jsx(Be,{className:"h-5 w-5 text-green-600"})]})}),e.jsx(I,{children:e.jsx("div",{className:"h-64",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(ut,{data:n,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"month"}),e.jsx(Z,{}),e.jsx(q,{}),e.jsx(re,{}),e.jsx(O,{type:"monotone",dataKey:"المكتب الرئيسي",stackId:"1",stroke:y["المكتب الرئيسي"],fill:y["المكتب الرئيسي"],fillOpacity:.6}),e.jsx(O,{type:"monotone",dataKey:"مكتب الشمال",stackId:"1",stroke:y["مكتب الشمال"],fill:y["مكتب الشمال"],fillOpacity:.6}),e.jsx(O,{type:"monotone",dataKey:"مكتب الجنوب",stackId:"1",stroke:y["مكتب الجنوب"],fill:y["مكتب الجنوب"],fillOpacity:.6}),e.jsx(O,{type:"monotone",dataKey:"مكتب الشرق",stackId:"1",stroke:y["مكتب الشرق"],fill:y["مكتب الشرق"],fillOpacity:.6})]})})})})]}),e.jsxs(_,{className:"hover:shadow-md transition-all duration-300",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{className:"text-lg font-semibold",children:"النشاط الأسبوعي للمكاتب"}),e.jsx(De,{className:"h-5 w-5 text-purple-600"})]})}),e.jsx(I,{children:e.jsx("div",{className:"h-64",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(qe,{data:l,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"day"}),e.jsx(Z,{}),e.jsx(q,{}),e.jsx(re,{}),e.jsx(J,{type:"monotone",dataKey:"المكتب الرئيسي",stroke:y["المكتب الرئيسي"],strokeWidth:2,dot:{fill:y["المكتب الرئيسي"],r:3}}),e.jsx(J,{type:"monotone",dataKey:"مكتب الشمال",stroke:y["مكتب الشمال"],strokeWidth:2,dot:{fill:y["مكتب الشمال"],r:3}}),e.jsx(J,{type:"monotone",dataKey:"مكتب الجنوب",stroke:y["مكتب الجنوب"],strokeWidth:2,dot:{fill:y["مكتب الجنوب"],r:3}}),e.jsx(J,{type:"monotone",dataKey:"مكتب الشرق",stroke:y["مكتب الشرق"],strokeWidth:2,dot:{fill:y["مكتب الشرق"],r:3}})]})})})})]}),e.jsxs(_,{className:"hover:shadow-md transition-all duration-300",children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(T,{className:"text-lg font-semibold",children:"توزيع المعدات حسب المكاتب"}),e.jsx(ie,{className:"h-5 w-5 text-orange-600"})]})}),e.jsx(I,{children:e.jsx("div",{className:"h-64",children:e.jsx(G,{width:"100%",height:"100%",children:e.jsxs(Je,{data:o,children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(Q,{dataKey:"office"}),e.jsx(Z,{}),e.jsx(q,{}),e.jsx(re,{}),e.jsx(se,{dataKey:"متاح",fill:"#32CD32"}),e.jsx(se,{dataKey:"مؤجر",fill:"#20B2AA"}),e.jsx(se,{dataKey:"صيانة",fill:"#FF8C00"})]})})})})]})]})]}),e.jsxs(_,{children:[e.jsxs(R,{children:[e.jsx(T,{className:"text-2xl font-semibold",children:"النشاط الأخير"}),e.jsx(Re,{children:"آخر الأنشطة في النظام"})]}),e.jsx(I,{children:e.jsx("div",{className:"space-y-4",children:r.map((i,x)=>e.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:i.description}),e.jsx("p",{className:"text-xs text-muted-foreground",children:i.time})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:i.user})]},x))})})]}),e.jsxs(_,{children:[e.jsx(R,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-2xl font-semibold",children:"جدول العقود"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["إجمالي العقود: ",c.length]})]}),e.jsxs(K,{variant:"outline",size:"sm",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"تصدير"]})]})}),e.jsxs(I,{children:[e.jsx("div",{className:"mb-4 space-y-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Se,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(Te,{placeholder:"البحث في العقود...",className:"pr-10"})]}),e.jsxs(K,{variant:"outline",size:"sm",children:[e.jsx(Ze,{className:"h-4 w-4 mr-2"}),"فلترة"]})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b bg-gray-50 dark:bg-gray-800",children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"رقم العقد"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"اسم العميل"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"نوع العقد"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الحالة"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"التقدم"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"المبلغ الإجمالي"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(i=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"font-mono text-sm text-gray-600",children:i.id})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.customerName})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("span",{className:"inline-flex items-center justify-center rounded-md border px-2 py-0.5 font-medium text-xs bg-indigo-100 text-indigo-700 border-indigo-200",children:i.contractType})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`inline-flex items-center justify-center rounded-md border px-2 py-0.5 font-medium text-xs ${ve[i.status]||ve.DRAFT}`,children:pt[i.status]||i.status})})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"flex items-center gap-1 min-w-[250px]",children:i.progress.map((x,v)=>e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`relative w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${x.completed?"bg-gradient-to-r from-green-400 to-green-500 border-green-500 shadow-lg shadow-green-200":"bg-gray-100 border-gray-300 hover:border-gray-400"}`,children:x.completed?e.jsx(et,{className:"w-3 h-3 text-white"}):e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})}),e.jsx("span",{className:`text-[9px] mt-1 text-center font-medium transition-colors duration-200 max-w-[50px] leading-tight ${x.completed?"text-green-600":"text-gray-500"}`,children:x.stage})]}),v<i.progress.length-1&&e.jsx("div",{className:`h-1 w-4 mx-0.5 rounded-full transition-all duration-500 ${x.completed?"bg-gradient-to-r from-green-400 to-green-500 shadow-sm":"bg-gray-200"}`})]},v))})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:m(i.totalAmount)})}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>de.visit(`/contracts/${i.id}`),title:"عرض التفاصيل",children:e.jsx(tt,{className:"h-4 w-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>de.visit(`/contracts/${i.id}/edit`),title:"تعديل العقد",children:e.jsx(Le,{className:"h-4 w-4"})})]})})]},i.id))})]})})}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["عرض 1 إلى ",c.length," من ",c.length," عقود"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{variant:"outline",size:"sm",disabled:!0,children:[e.jsx(at,{className:"h-4 w-4 mr-2"}),"السابق"]}),e.jsx("span",{className:"text-sm text-gray-600",children:"صفحة 1 من 1"}),e.jsxs(K,{variant:"outline",size:"sm",disabled:!0,children:["التالي",e.jsx(_e,{className:"h-4 w-4 ml-2"})]})]})]})})]})]})]})})})]})}export{Bt as default};
