import{b as h,r as u,u as j,j as e,H as g,a as d}from"./app-D5GchK2n.js";import{D as b,X as y}from"./DashboardLayout-BTosQ__p.js";import{C as v}from"./card-J0aNvoEZ.js";import{B as n}from"./button-CjRbmYRh.js";import{I as l}from"./input-CfCtb6rZ.js";import{s as m}from"./use-toast-DD5-stEh.js";import{A as f}from"./arrow-right-m_3Ef_fZ.js";import{S as N}from"./save-C-_YdrO8.js";/* empty css            */import"./createLucideIcon-BJBO5Me8.js";import"./triangle-alert-CqPRL_2g.js";import"./file-text-vhP0XDEi.js";import"./eye-IupIiIID.js";import"./shield-cHwbiQva.js";import"./circle-alert-Bh8NY-rp.js";import"./map-pin-C0uK7kNV.js";import"./mail-C76QzjyZ.js";function P(){const{flash:i}=h().props;u.useEffect(()=>{i?.success&&m.success("نجح",i.success),i?.error&&m.error("خطأ",i.error)},[i]);const{data:a,setData:r,post:x,processing:o,errors:s}=j({name:"",position:"",department:"",email:"",phone:"",hire_date:new Date().toISOString().split("T")[0],status:"active",total_salary:0}),p=t=>{t.preventDefault(),x("/employees",{onSuccess:()=>{m.success("تم الإنشاء بنجاح","تم إضافة الموظف بنجاح"),d.visit("/employees")},onError:c=>{c.message?m.error("خطأ في الإنشاء",c.message):m.error("خطأ في الإنشاء","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(b,{children:[e.jsx(g,{title:"إضافة موظف جديد"}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>d.visit("/employees"),children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"إضافة موظف جديد"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"إدخال بيانات الموظف الجديد"})]})]})}),e.jsx(v,{className:"p-6",children:e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"المعلومات الأساسية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم الكامل *"}),e.jsx(l,{type:"text",value:a.name,onChange:t=>r("name",t.target.value),placeholder:"مثال: أحمد محمد العلي",className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المنصب *"}),e.jsx(l,{type:"text",value:a.position,onChange:t=>r("position",t.target.value),placeholder:"مثال: مدير المبيعات",className:s.position?"border-red-500":""}),s.position&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"القسم *"}),e.jsx(l,{type:"text",value:a.department,onChange:t=>r("department",t.target.value),placeholder:"مثال: المبيعات",className:s.department?"border-red-500":""}),s.department&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البريد الإلكتروني *"}),e.jsx(l,{type:"email",value:a.email,onChange:t=>r("email",t.target.value),placeholder:"example@company.com",className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف"}),e.jsx(l,{type:"text",value:a.phone,onChange:t=>r("phone",t.target.value),placeholder:"+968 9123 4567",className:s.phone?"border-red-500":""}),s.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تاريخ التوظيف *"}),e.jsx(l,{type:"date",value:a.hire_date,onChange:t=>r("hire_date",t.target.value),className:s.hire_date?"border-red-500":""}),s.hire_date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.hire_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة *"}),e.jsxs("select",{value:a.status,onChange:t=>r("status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"active",children:"نشط"}),e.jsx("option",{value:"inactive",children:"غير نشط"}),e.jsx("option",{value:"on_leave",children:"في إجازة"})]}),s.status&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الراتب الإجمالي (ر.ع) *"}),e.jsx(l,{type:"number",step:"0.01",min:"0",value:a.total_salary,onChange:t=>r("total_salary",parseFloat(t.target.value)||0),placeholder:"0.00",className:s.total_salary?"border-red-500":""}),s.total_salary&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.total_salary})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxs(n,{type:"button",variant:"outline",onClick:()=>d.visit("/employees"),disabled:o,className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"إلغاء"]}),e.jsxs(n,{type:"submit",disabled:o,className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),o?"جاري الحفظ...":"حفظ الموظف"]})]})]})})]})]})}export{P as default};
