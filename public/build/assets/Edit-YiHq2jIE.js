import{u as h,a as b,b as g,j as e,H as y,r as m}from"./app-CsbbGT-_.js";import{D as j,X as v}from"./DashboardLayout-CzlufSV-.js";import{C as N}from"./card-CeHhk22F.js";import{B as o}from"./button-BhC_o9ze.js";import{I as i}from"./input-C2yLxkRS.js";import{s as n}from"./use-toast-CN6priy7.js";import{A as f}from"./arrow-right-Uui8qlvt.js";import{S as _}from"./save-CMPfoUIH.js";/* empty css            */import"./createLucideIcon-QaiCO69f.js";import"./triangle-alert-Du77iORy.js";import"./file-text-CFTa63jY.js";import"./eye-7pZK9e-P.js";import"./user-Dh7LORQw.js";const E=[{value:"AVAILABLE",label:"متوفرة"},{value:"RENTED",label:"مستأجرة"},{value:"SOLD",label:"مباعة"},{value:"MAINTENANCE",label:"تحت الصيانة"},{value:"RESERVED",label:"محجوزة"}];function V({scaffold:a}){const{flash:c}=h().props;b.useEffect(()=>{c?.success&&n.success("نجح",c.success),c?.error&&n.error("خطأ",c.error)},[c]);const{data:t,setData:l,put:p,processing:d,errors:s}=g({scaffold_number:a.scaffoldNumber||"",quantity:a.quantity||1,description_ar:a.descriptionAr||"",description_en:a.descriptionEn||"",daily_rental_price:a.dailyRentalPrice||0,monthly_rental_price:a.monthlyRentalPrice||0,status:a.status||"AVAILABLE"}),u=r=>{r.preventDefault(),p(`/inventory/${a.id}`,{onSuccess:()=>{n.success("تم التحديث بنجاح","تم تحديث بيانات المعدة بنجاح"),m.visit("/inventory")},onError:x=>{x.message?n.error("خطأ في التحديث",x.message):n.error("خطأ في التحديث","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(j,{children:[e.jsx(y,{title:`تعديل المعدة: ${a.scaffoldNumber}`}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>m.visit("/inventory"),children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"تعديل معدة"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"تعديل بيانات المعدة"})]})]})}),e.jsx(N,{className:"p-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"المعلومات الأساسية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"كود الصنف *"}),e.jsx(i,{type:"text",value:t.scaffold_number,onChange:r=>l("scaffold_number",r.target.value),placeholder:"مثال: SCAF-001",className:s.scaffold_number?"border-red-500":""}),s.scaffold_number&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.scaffold_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الكمية *"}),e.jsx(i,{type:"number",min:"1",value:t.quantity,onChange:r=>l("quantity",parseInt(r.target.value)||1),placeholder:"1",className:s.quantity?"border-red-500":""}),s.quantity&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.quantity})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"أوصاف الصنف"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف العربي للصنف *"}),e.jsx(i,{type:"text",value:t.description_ar,onChange:r=>l("description_ar",r.target.value),placeholder:"مثال: معدة حديدية متعددة الطوابق",className:s.description_ar?"border-red-500":""}),s.description_ar&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.description_ar})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الوصف الإنجليزي للصنف *"}),e.jsx(i,{type:"text",value:t.description_en,onChange:r=>l("description_en",r.target.value),placeholder:"Example: Multi-level Steel Scaffolding",className:s.description_en?"border-red-500":""}),s.description_en&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.description_en})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"أسعار الإيجار (ريال عماني)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"قيمة الإيجار اليومي *"}),e.jsx(i,{type:"number",step:"0.01",min:"0",value:t.daily_rental_price,onChange:r=>l("daily_rental_price",parseFloat(r.target.value)||0),placeholder:"50.00",className:s.daily_rental_price?"border-red-500":""}),s.daily_rental_price&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.daily_rental_price})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"قيمة الإيجار الشهري *"}),e.jsx(i,{type:"number",step:"0.01",min:"0",value:t.monthly_rental_price,onChange:r=>l("monthly_rental_price",parseFloat(r.target.value)||0),placeholder:"1200.00",className:s.monthly_rental_price?"border-red-500":""}),s.monthly_rental_price&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.monthly_rental_price})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"حالة المعدة"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة *"}),e.jsx("select",{value:t.status,onChange:r=>l("status",r.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:E.map(r=>e.jsx("option",{value:r.value,children:r.label},r.value))}),s.status&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.status})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxs(o,{type:"button",variant:"outline",onClick:()=>m.visit("/inventory"),disabled:d,className:"flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"إلغاء"]}),e.jsxs(o,{type:"submit",disabled:d,className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),d?"جاري الحفظ...":"تحديث المعدة"]})]})]})})]})]})}export{V as default};
