import{a as E,j as e,H as C,r as g}from"./app-uh3WkadV.js";import{D,B as P,h as u,U as S,C as f}from"./DashboardLayout-Dvh8V3Uw.js";import{C as a,b as r,c as n,a as d}from"./card-BfLzK-Hw.js";import{B as x}from"./button-BAXvYJWN.js";import{A as I}from"./arrow-left-BX0UAVDJ.js";import{U as b,F as m,C as A}from"./user-CL340Af9.js";import{P as T}from"./printer-DUHEg3gt.js";import{D as R}from"./download-DIfNrTlN.js";import{S as V}from"./square-pen-C07wjfeh.js";import{S as M}from"./star-Bn0Yw7uX.js";import{T as N}from"./triangle-alert-CsgZCVjT.js";import{E as U}from"./eye-CjKyrNFs.js";import{P as O}from"./phone-BNFQOlWX.js";import{M as B}from"./mail-DAKRKBWI.js";import{M as F}from"./map-pin-CIi4PSnt.js";import{B as L}from"./building-Bc2Faj7E.js";import{C as y}from"./circle-check-big-XsMc1Q5c.js";import{C as $}from"./circle-x-BHPDfTPo.js";/* empty css            */function me({supplier:s}){const[c,v]=E.useState("overview"),i=t=>new Date(t).toLocaleDateString("ar-SA",{year:"numeric",month:"long",day:"numeric"}),l=t=>new Intl.NumberFormat("ar-SA",{style:"currency",currency:"OMR"}).format(t),o=t=>{switch(t){case"ACTIVE":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"INACTIVE":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"SUSPENDED":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"PAID":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"PENDING":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"OVERDUE":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"DELIVERED":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"CONFIRMED":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},h=t=>{switch(t){case"ACTIVE":return e.jsx(y,{className:"h-4 w-4"});case"INACTIVE":return e.jsx($,{className:"h-4 w-4"});case"SUSPENDED":return e.jsx(N,{className:"h-4 w-4"});case"PAID":case"DELIVERED":return e.jsx(y,{className:"h-4 w-4"});case"PENDING":case"CONFIRMED":return e.jsx(f,{className:"h-4 w-4"});default:return e.jsx(f,{className:"h-4 w-4"})}},j=t=>{switch(t){case"ACTIVE":return"نشط";case"INACTIVE":return"غير نشط";case"SUSPENDED":return"معلق";case"PAID":return"مدفوع";case"PENDING":return"معلق";case"OVERDUE":return"متأخر";case"DELIVERED":return"مسلم";case"CONFIRMED":return"مؤكد";default:return t}},w=()=>{window.print()},p=()=>{alert("سيتم تصدير ملف المورد")};return e.jsxs(D,{children:[e.jsx(C,{title:`${s.name} - تفاصيل المورد`}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(x,{variant:"ghost",size:"sm",onClick:()=>g.visit("/suppliers"),children:e.jsx(I,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.supplierType==="COMPANY"?e.jsx(P,{className:"h-6 w-6"}):e.jsx(b,{className:"h-6 w-6"}),s.name]}),e.jsxs("p",{className:"text-muted-foreground",children:["رقم المورد: ",s.supplierNumber]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(x,{variant:"outline",size:"sm",onClick:w,children:[e.jsx(T,{className:"h-4 w-4"}),"طباعة"]}),e.jsxs(x,{variant:"outline",size:"sm",onClick:p,children:[e.jsx(R,{className:"h-4 w-4"}),"تصدير"]}),e.jsxs(x,{onClick:()=>g.visit(`/suppliers/${s.id}/edit`),children:[e.jsx(V,{className:"h-4 w-4"}),"تعديل"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-2 ${o(s.status)}`,children:[h(s.status),j(s.status)]}),s.rating&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"h-4 w-4 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-sm font-medium",children:[s.rating,"/5"]})]}),s.warnings&&e.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[e.jsx(N,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"تحذيرات"})]})]}),e.jsx("div",{className:"border-b",children:e.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"نظرة عامة",icon:U},{id:"invoices",label:"الفواتير",icon:m},{id:"purchases",label:"المشتريات",icon:u},{id:"notes",label:"الملاحظات",icon:m}].map(t=>{const k=t.icon;return e.jsxs("button",{onClick:()=>v(t.id),className:`flex items-center gap-2 py-2 px-1 border-b-2 font-medium text-sm ${c===t.id?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"}`,children:[e.jsx(k,{className:"h-4 w-4"}),t.label]},t.id)})})}),c==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"الاسم الكامل"}),e.jsx("p",{className:"text-sm",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"نوع المورد"}),e.jsx("p",{className:"text-sm",children:s.supplierType==="COMPANY"?"شركة":"فرد"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"رقم الهوية/السجل"}),e.jsx("p",{className:"text-sm font-mono",children:s.idNumber||s.commercialRecord||"-"})]}),s.taxNumber&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"الرقم الضريبي"}),e.jsx("p",{className:"text-sm font-mono",children:s.taxNumber})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"الجنسية"}),e.jsx("p",{className:"text-sm",children:s.nationality||"-"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"رقم الهاتف"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:s.phone||"-"})]})]}),s.email&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:s.email})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"العنوان"}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(F,{className:"h-4 w-4 mt-0.5"}),e.jsx("p",{className:"text-sm",children:s.address||"-"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"تاريخ التسجيل"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),e.jsx("p",{className:"text-sm",children:i(s.registrationDate)})]})]})]})})]}),(s.contactPerson||s.contactPersonPhone||s.contactPersonEmail)&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5"}),"معلومات الشخص المسؤول"]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.contactPerson&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"اسم الشخص المسؤول"}),e.jsx("p",{className:"text-sm",children:s.contactPerson})]}),s.contactPersonPhone&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"هاتف الشخص المسؤول"}),e.jsx("p",{className:"text-sm",children:s.contactPersonPhone})]}),s.contactPersonEmail&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"بريد الشخص المسؤول"}),e.jsx("p",{className:"text-sm",children:s.contactPersonEmail})]})]})})]}),(s.bankName||s.bankAccount||s.iban||s.swiftCode)&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"معلومات البنك"]})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.bankName&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"اسم البنك"}),e.jsx("p",{className:"text-sm",children:s.bankName})]}),s.bankAccount&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"رقم الحساب"}),e.jsx("p",{className:"text-sm font-mono",children:s.bankAccount})]}),s.iban&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"رقم الآيبان"}),e.jsx("p",{className:"text-sm font-mono",children:s.iban})]}),s.swiftCode&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"رمز السويفت"}),e.jsx("p",{className:"text-sm font-mono",children:s.swiftCode})]})]})})]}),(s.notes||s.warnings)&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"الملاحظات والتحذيرات"]})}),e.jsxs(d,{className:"space-y-4",children:[s.notes&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"ملاحظات عامة"}),e.jsx("p",{className:"text-sm mt-1 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.notes})]}),s.warnings&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-red-500"}),"تحذيرات خاصة"]}),e.jsx("p",{className:"text-sm mt-1 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-800 dark:text-red-200",children:s.warnings})]})]})]})]}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"ملخص الفواتير"]})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"إجمالي الفواتير"}),e.jsx("span",{className:"font-medium",children:s.invoicesSummary.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"فواتير مدفوعة"}),e.jsx("span",{className:"font-medium text-green-600",children:s.invoicesSummary.paid})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"فواتير معلقة"}),e.jsx("span",{className:"font-medium text-yellow-600",children:s.invoicesSummary.pending})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"فواتير متأخرة"}),e.jsx("span",{className:"font-medium text-red-600",children:s.invoicesSummary.overdue})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"إجمالي المبلغ"}),e.jsx("span",{className:"font-bold text-primary",children:l(s.invoicesSummary.totalAmount)})]})})]})]}),e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"ملخص المشتريات"]})}),e.jsxs(d,{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"إجمالي المشتريات"}),e.jsx("span",{className:"font-medium",children:s.purchasesSummary.total})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"مشتريات مسلمة"}),e.jsx("span",{className:"font-medium text-green-600",children:s.purchasesSummary.delivered})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"مشتريات مؤكدة"}),e.jsx("span",{className:"font-medium text-blue-600",children:s.purchasesSummary.confirmed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"مشتريات معلقة"}),e.jsx("span",{className:"font-medium text-yellow-600",children:s.purchasesSummary.pending})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"إجمالي المبلغ"}),e.jsx("span",{className:"font-bold text-primary",children:l(s.purchasesSummary.totalAmount)})]})})]})]})]})]}),c==="invoices"&&e.jsx("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:e.jsxs(a,{children:[e.jsx(r,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-5 w-5"}),"قائمة الفواتير"]})}),e.jsx(d,{children:s.invoices&&s.invoices.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"رقم الفاتورة"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"المبلغ"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"تاريخ الاستحقاق"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"الحالة"})]})}),e.jsx("tbody",{children:s.invoices.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.invoiceNumber||t.id})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:l(t.amount||0)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.dueDate?i(t.dueDate):"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o(t.status)}`,children:[h(t.status),j(t.status)]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(m,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"لا توجد فواتير لهذا المورد"})]})})]})}),c==="purchases"&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsx(n,{children:"مشتريات المورد"})}),e.jsx(d,{children:s.purchases&&s.purchases.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"رقم الشراء"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"المبلغ"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"تاريخ الشراء"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-muted-foreground",children:"الحالة"})]})}),e.jsx("tbody",{children:s.purchases.map(t=>e.jsxs("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.purchaseNumber||t.id})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:l(t.totalAmount||0)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.purchaseDate?i(t.purchaseDate):"-"})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${o(t.status)}`,children:[h(t.status),j(t.status)]})})]},t.id))})]})}):e.jsx("p",{className:"text-muted-foreground",children:"لا توجد مشتريات لهذا المورد"})})]}),c==="notes"&&e.jsxs(a,{children:[e.jsx(r,{children:e.jsx(n,{children:"ملاحظات المورد"})}),e.jsx(d,{children:s.notes?e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.notes})}):e.jsx("p",{className:"text-muted-foreground",children:"لا توجد ملاحظات لهذا المورد"})})]})]})]})}export{me as default};
