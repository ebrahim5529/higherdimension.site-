import{a as s,j as e,r as E,L as S,u as O}from"./app-BIhr450z.js";import{B as k,a as z,C as ne}from"./button-Da4h0f09.js";import{c as a}from"./createLucideIcon-nuJcrfB5.js";import{T as ie}from"./triangle-alert-CDRhZIn-.js";import{F as L}from"./file-text-DVqpShJC.js";import{E as ce}from"./eye-B0nuYYN6.js";import{M as B}from"./map-pin-Dv4c3MxI.js";import{M as le}from"./mail-zT1IJ1Vi.js";const I=a("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const oe=a("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const de=a("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const me=a("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const he=a("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const pe=a("ChartNoAxesColumnIncreasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);const _=a("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const ye=a("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const F=a("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);const K=a("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const Z=a("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Q=a("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const H=a("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const ue=a("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);const xe=a("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const G=a("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const J=a("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const D=a("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const Y=a("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const U=a("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);const ge=a("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);const be=a("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const q=a("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const fe=a("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const ke=a("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const X=a("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const W=a("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);const ee=a("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const A=a("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const P=a("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);const R=a("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const $=a("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);const ve=a("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const V=a("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);const we=a("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const T=a("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function je(){const[v,l]=s.useState(!1),[c,g]=s.useState("system");s.useEffect(()=>{l(!0);const r=localStorage.getItem("theme");if(r)g(r),m(r);else{const d=window.matchMedia("(prefers-color-scheme: dark)").matches;m(d?"dark":"light")}},[]);const m=r=>{const d=document.documentElement;if(r==="system"){const t=window.matchMedia("(prefers-color-scheme: dark)").matches;d.classList.toggle("dark",t)}else d.classList.toggle("dark",r==="dark")},o=()=>{let r;c==="light"?r="dark":c==="dark"?r="system":r="light",g(r),localStorage.setItem("theme",r),m(r)};if(!v)return e.jsx(k,{variant:"ghost",size:"sm",className:"p-1.5 sm:p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 h-8 w-8 sm:h-9 sm:w-9 flex items-center justify-center",children:e.jsx(D,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500"})});const h=()=>{switch(c){case"light":return e.jsx(ee,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-500"});case"dark":return e.jsx(Y,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400"});default:return e.jsx(D,{className:"h-4 w-4 sm:h-5 sm:w-5 text-gray-500"})}},p=()=>{switch(c){case"light":return"الوضع الفاتح";case"dark":return"الوضع الداكن";default:return"وضع النظام"}};return e.jsx(k,{variant:"ghost",size:"sm",onClick:o,className:"p-1.5 sm:p-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200 h-8 w-8 sm:h-9 sm:w-9 flex items-center justify-center",title:p(),"aria-label":p(),children:h()})}const Ne=s.memo(function v({id:l,label:c,icon:g,href:m,children:o,isExpanded:h=!1,onToggle:p,isActive:r=!1,isCollapsed:d=!1,level:t=0,onSectionChange:y,onClose:x}){const N=s.useCallback(()=>{if(m)x&&window.innerWidth<768&&x();else{const f={"dashboard-interactive":"/dashboard/dashboard-interactive","financial-reports":"/dashboard/financial-reports","operations-reports":"/dashboard/operations-reports","customer-reports":"/dashboard/customer-reports","customer-management":"/customers","main-dashboard":"/dashboard/main-dashboard"}[l]||`/dashboard/${l}`;f&&E.visit(f),y&&y(l),x&&window.innerWidth<768&&x()}},[l,m,y,x]),j=s.useCallback(()=>{p&&o&&p(l)},[l,p,o]),w=o&&o.length>0,b=t===0,M=t===1,i=e.jsxs("button",{onClick:w?j:N,className:z("w-full flex items-center justify-between p-3 rounded-lg transition-all duration-200 text-right group","hover:bg-gray-100 dark:hover:bg-gray-800",b&&"text-gray-700 dark:text-gray-300",M&&"text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800",r&&"bg-primary text-white hover:bg-primary/90",d&&"justify-center px-2"),title:d?c:void 0,children:[e.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[e.jsx(g,{className:z("flex-shrink-0 transition-colors duration-200",b?"h-5 w-5":"h-4 w-4",r?"text-white":"text-current",d&&"mx-auto")}),!d&&e.jsx("div",{className:"flex-1 text-right",children:e.jsx("div",{className:z("font-medium transition-colors duration-200",b?"text-base":"text-sm",r?"text-white":"text-current"),children:c})})]}),!d&&w&&e.jsx("div",{className:"mr-2 transition-transform duration-200",children:h?e.jsx(_,{className:"h-4 w-4"}):e.jsx(ye,{className:"h-4 w-4"})})]});return e.jsxs("div",{className:"space-y-1",children:[m?e.jsx(S,{href:m,className:"block",children:i}):i,!d&&w&&h&&e.jsx("div",{className:z("space-y-1 transition-all duration-200",b?"mr-4":"mr-8"),children:o.map(n=>e.jsx(v,{...n,isActive:r,isCollapsed:d,level:t+1,onToggle:p,onSectionChange:y,onClose:x},n.id))})]})});function ae({open:v,onOpenChange:l,onConfirm:c,title:g,description:m,confirmText:o="تأكيد",cancelText:h="إلغاء",variant:p="danger",isLoading:r=!1}){if(!v)return null;const d=async()=>{try{await c(),l(!1)}catch{}},y={danger:{icon:"text-red-600",button:"bg-red-600 hover:bg-red-700 text-white",border:"border-red-200 dark:border-red-800"},warning:{icon:"text-yellow-600",button:"bg-yellow-600 hover:bg-yellow-700 text-white",border:"border-yellow-200 dark:border-yellow-800"},info:{icon:"text-blue-600",button:"bg-blue-600 hover:bg-blue-700 text-white",border:"border-blue-200 dark:border-blue-800"}}[p];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>!r&&l(!1)}),e.jsxs("div",{className:"relative bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-md w-full mx-4 border border-gray-200 dark:border-gray-800 animate-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ie,{className:`h-6 w-6 ${y.icon}`}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:g})]}),!r&&e.jsx("button",{onClick:()=>l(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:e.jsx(T,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"p-6",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 leading-relaxed",children:m})}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-800",children:[e.jsx(k,{variant:"outline",onClick:()=>l(!1),disabled:r,children:h}),e.jsx(k,{className:y.button,onClick:d,disabled:r,children:r?"جاري المعالجة...":o})]})]})]})}function Me({activeSection:v,onSectionChange:l,onClose:c}){const{auth:g}=O().props,m=g?.user?.permissions||[],[o,h]=s.useState(!1),[p,r]=s.useState([]),[d,t]=s.useState(!1),y={"main-dashboard":"access-main-dashboard",dashboard:"access-dashboard-reports","dashboard-interactive":"access-dashboard-interactive","financial-reports":"access-financial-reports","operations-reports":"access-operations-reports","customer-reports":"access-customer-reports",customers:"access-customers","customer-management":"manage-customers","customer-contracts":"view-customer-contracts","customer-claims":"manage-customer-claims",suppliers:"access-suppliers","supplier-management":"manage-suppliers","supplier-invoices":"view-supplier-invoices","supplier-purchases":"manage-supplier-purchases",inventory:"access-inventory","inventory-status":"manage-inventory","purchase-equipment":"purchase-equipment","purchases-list":"manage-purchases",contracts:"access-contracts","contract-management":"manage-contracts","active-contracts":"view-active-contracts","expired-contracts":"view-expired-contracts","cancelled-contracts":"view-cancelled-contracts",operations:"access-operations","delivery-orders":"manage-delivery-orders","shipping-tracking":"track-shipping","delivery-receipt":"manage-delivery-receipt","return-inspection":"manage-return-inspection",financial:"access-financial","payment-management":"manage-payment-transactions","purchase-management":"manage-purchases",invoices:"manage-invoices",employees:"access-employees","employee-management":"manage-employees",salaries:"manage-salaries",incentives:"manage-incentives",attendance:"manage-attendance",departments:"manage-departments",leaves:"manage-leaves","permissions-management":"access-permissions","user-roles":"manage-user-roles","permission-groups":"manage-permission-groups",roles:"manage-roles",payments:"access-payments","all-payments":"view-all-payments","late-payments":"view-late-payments","payment-reports":"view-payment-reports",settings:"access-settings","electronic-signature":"manage-electronic-signature","settings-governorates":"access-settings","settings-wilayats":"access-settings","settings-regions":"access-settings","smtp-settings":"access-settings"},x=s.useCallback(i=>{const n=y[i];return n?Array.isArray(n)?n.some(f=>m.includes(f)):m.includes(n):!0},[m]),N=s.useCallback(i=>{r(n=>n.includes(i)?n.filter(f=>f!==i):[...n,i])},[]),j=s.useCallback(()=>{h(i=>!i)},[]);s.useEffect(()=>{let i;const n=()=>{clearTimeout(i),i=setTimeout(()=>{window.innerWidth>=768},150)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),clearTimeout(i)}},[c]);const w=s.useMemo(()=>[{id:"main-dashboard",label:"الرئيسية",icon:xe,href:"/dashboard"},{id:"dashboard",label:"لوحة التحكم والتقارير",icon:he,children:[{id:"dashboard-interactive",label:"لوحة التحكم التفاعلية",icon:I,href:"/dashboard/dashboard-interactive"},{id:"financial-reports",label:"التقارير المالية",icon:A,href:"/dashboard/financial-reports"},{id:"operations-reports",label:"تقارير التشغيل والمخزون",icon:U,href:"/dashboard/operations-reports"},{id:"customer-reports",label:"تقارير العملاء",icon:V,href:"/dashboard/customer-reports"}]},{id:"customers",label:"إدارة العملاء",icon:V,children:[{id:"customer-management",label:"إدارة بيانات العملاء",icon:R,href:"/customers"},{id:"customer-contracts",label:"سجل العقود الخاصة بالعملاء",icon:L,href:"/dashboard/customer-contracts"},{id:"customer-claims",label:"إدارة المطالبات",icon:K,href:"/dashboard/customer-claims"}]},{id:"suppliers",label:"إدارة الموردين",icon:P,children:[{id:"supplier-management",label:"إدارة بيانات الموردين",icon:R,href:"/suppliers"},{id:"supplier-invoices",label:"فواتير الموردين",icon:q,href:"/dashboard/supplier-invoices"},{id:"supplier-purchases",label:"مشتريات الموردين",icon:W,href:"/dashboard/supplier-purchases"}]},{id:"inventory",label:"إدارة المخزون",icon:U,children:[{id:"inventory-status",label:"حالة المخزون",icon:U,href:"/inventory"},{id:"purchase-equipment",label:"شراء معدات جديدة",icon:W,href:"/dashboard/purchase-equipment"},{id:"purchases-list",label:"إدارة المشتريات",icon:q,href:"/dashboard/purchases-list"}]},{id:"contracts",label:"إدارة العقود والاتفاقيات",icon:L,children:[{id:"contract-management",label:"إدارة العقود والاتفاقيات",icon:L,href:"/contracts"},{id:"active-contracts",label:"عقود نشطة",icon:I,href:"/contracts/active"},{id:"expired-contracts",label:"عقود منتهية",icon:Z,href:"/contracts/expired"},{id:"cancelled-contracts",label:"عقود ملغاة",icon:T,href:"/contracts/cancelled"}]},{id:"operations",label:"إدارة التشغيل والنقليات",icon:P,children:[{id:"delivery-orders",label:"إدارة طلبات التوصيل",icon:P},{id:"delivery-orders-details",label:"تفاصيل أوامر التوصيل",icon:ce},{id:"shipping-tracking",label:"تتبع الشحن",icon:I},{id:"delivery-receipt",label:"إيصال التسليم",icon:q},{id:"return-inspection",label:"فحص الاسترجاع",icon:K}]},{id:"financial",label:"إدارة المالية",icon:H,children:[{id:"payment-management",label:"إدارة المعاملات المالية",icon:Q,href:"/payments"},{id:"purchase-management",label:"إدارة عمليات الشراء",icon:W,href:"/dashboard/purchases-list"},{id:"invoices",label:"الفواتير",icon:q,href:"/dashboard/invoices"},{id:"financial-reports",label:"التقارير المالية",icon:A,href:"/dashboard/financial-reports"}]},{id:"employees",label:"إدارة الموظفين",icon:$,children:[{id:"employee-management",label:"إدارة بيانات الموظفين",icon:R,href:"/employees"},{id:"salaries",label:"الرواتب",icon:H,href:"/employees/salaries"},{id:"incentives",label:"الحوافز",icon:A,href:"/employees/incentives"},{id:"attendance",label:"الحضور والانصراف",icon:Z,href:"/employees/attendance"},{id:"departments",label:"الأقسام",icon:de,href:"/employees/departments"},{id:"leaves",label:"الإجازات",icon:me,href:"/employees/leaves"}]},{id:"permissions-management",label:"إدارة الصلاحيات",icon:ue,children:[{id:"user-roles",label:"أدوار المستخدمين",icon:$,href:"/dashboard/user-roles"},{id:"permission-groups",label:"مجموعات الصلاحيات",icon:X,href:"/dashboard/permission-groups"},{id:"roles",label:"الأدوار",icon:X,href:"/dashboard/roles"}]},{id:"payments",label:"المدفوعات",icon:Q,children:[{id:"all-payments",label:"جميع المدفوعات",icon:H,href:"/payments"},{id:"late-payments",label:"المدفوعات المتأخرة",icon:ne,href:"/payments/late"},{id:"payment-reports",label:"تقارير المدفوعات",icon:pe,href:"/payments/reports"}]},{id:"settings",label:"الإعدادات",icon:ke,children:[{id:"settings-governorates",label:"المحافظات",icon:B,href:"/dashboard/locations/governorates"},{id:"settings-wilayats",label:"الولايات",icon:B,href:"/dashboard/locations/wilayats"},{id:"electronic-signature",label:"التوقيع الإلكتروني",icon:ge,href:"/dashboard/electronic-signature"},{id:"smtp-settings",label:"إعدادات SMTP",icon:le,href:"/dashboard/smtp-settings"}]}],[]),b=s.useCallback(i=>i.map(n=>{if(n.children&&n.children.length>0){const f=b(n.children);return f.length===0||!x(n.id)?null:{...n,children:f}}return x(n.id)?n:null}).filter(n=>n!==null),[x]),M=s.useMemo(()=>b(w),[w,b]);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden transition-opacity duration-300",onClick:c}),e.jsxs("div",{className:z("bg-white dark:bg-gray-900 border-l border-gray-200 dark:border-gray-700 transition-all duration-500 ease-in-out flex flex-col h-full",o?"w-14 sm:w-16":"w-72 sm:w-80 md:w-64 lg:w-72 xl:w-80","lg:relative lg:translate-x-0 lg:shadow-none","fixed inset-y-0 right-0 z-50 shadow-2xl"),children:[e.jsx("div",{className:"p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[!o&&e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-primary rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"أ"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-base sm:text-lg text-gray-900 dark:text-white",children:"البعد العالي"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 hidden sm:block",children:"إدارة السقالات"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2 rtl:space-x-reverse",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:c,className:"p-1.5 sm:p-2 md:hidden h-7 w-7 sm:h-8 sm:w-8",children:e.jsx(T,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),e.jsx(k,{variant:"ghost",size:"sm",onClick:j,className:"p-1.5 sm:p-2 hidden md:block h-7 w-7 sm:h-8 sm:w-8",children:o?e.jsx(J,{className:"h-4 w-4 sm:h-5 sm:w-5"}):e.jsx(T,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]})]})}),e.jsx("nav",{className:"flex-1 p-3 sm:p-4 space-y-1 overflow-y-auto",children:M.map(i=>e.jsx(Ne,{id:i.id,label:i.label,icon:i.icon,href:i.href,isExpanded:p.includes(i.id),onToggle:N,isActive:v===i.id,isCollapsed:o,level:0,onSectionChange:l,onClose:c,children:i.children},i.id))}),e.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 space-y-2 sm:space-y-3",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"scale-90 sm:scale-100",children:e.jsx(je,{})})}),e.jsxs(k,{variant:"ghost",onClick:()=>{c&&window.innerWidth<768&&c(),t(!0)},className:"w-full justify-start space-x-2 sm:space-x-3 rtl:space-x-reverse text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 border border-red-200 dark:border-red-800 h-9 sm:h-10 transition-all duration-200 hover:border-red-300 dark:hover:border-red-700",children:[e.jsx(G,{className:"h-4 w-4 sm:h-5 sm:w-5"}),!o&&e.jsx("span",{className:"text-sm sm:text-base",children:"تسجيل الخروج"})]})]})]}),e.jsx(ae,{open:d,onOpenChange:t,onConfirm:()=>{E.post("/logout",{},{onSuccess:()=>{t(!1)}})},title:"تأكيد تسجيل الخروج",description:"هل أنت متأكد من رغبتك في تسجيل الخروج؟ سيتم إغلاق جلسة العمل الحالية.",confirmText:"تسجيل الخروج",cancelText:"إلغاء",variant:"warning"})]})}function Ce({onToggleSidebar:v,isSidebarOpen:l}){const{auth:c}=O().props,[g,m]=s.useState(""),[o,h]=s.useState(!1),[p,r]=s.useState(!1),[d,t]=s.useState(!1),[y,x]=s.useState("system"),[N,j]=s.useState(!1),w=s.useRef(null),b=s.useRef(null);s.useEffect(()=>{t(!0);const u=localStorage.getItem("theme");u&&x(u)},[]);const M=()=>{let u;y==="light"?u="dark":y==="dark"?u="system":u="light",x(u),localStorage.setItem("theme",u);const C=document.documentElement;if(u==="system"){const te=window.matchMedia("(prefers-color-scheme: dark)").matches;C.classList.toggle("dark",te)}else C.classList.toggle("dark",u==="dark")},i=()=>{if(!d)return e.jsx(D,{className:"h-5 w-5"});switch(y){case"light":return e.jsx(ee,{className:"h-5 w-5 text-yellow-500"});case"dark":return e.jsx(Y,{className:"h-5 w-5 text-blue-400"});default:return e.jsx(D,{className:"h-5 w-5 text-gray-500"})}},n=()=>{if(!d)return"الوضع المظلم";switch(y){case"light":return"الوضع الفاتح";case"dark":return"الوضع الداكن";default:return"وضع النظام"}};s.useEffect(()=>{function u(C){w.current&&!w.current.contains(C.target)&&h(!1),b.current&&!b.current.contains(C.target)&&r(!1)}return document.addEventListener("mousedown",u),()=>{document.removeEventListener("mousedown",u)}},[]);const f=c?.user?.name||"المستخدم",se=c?.user?.email||"user@example.com",re=c?.user?.role||"USER";return e.jsxs("header",{className:"bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700 px-3 sm:px-4 lg:px-6 xl:px-8 py-3 sm:py-4 sticky top-0 z-30",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 lg:space-x-4 rtl:space-x-reverse",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:v,className:"p-2",children:l?e.jsx(T,{className:"h-5 w-5"}):e.jsx(J,{className:"h-5 w-5"})}),e.jsxs("div",{className:"relative hidden sm:block flex-1 max-w-md lg:max-w-lg xl:max-w-xl",children:[e.jsx(fe,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"البحث في النظام...",value:g,onChange:u=>m(u.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 rtl:space-x-reverse",children:[e.jsxs("div",{className:"relative",ref:w,children:[e.jsxs(k,{variant:"default",size:"sm",onClick:()=>h(!o),className:"flex items-center space-x-1 rtl:space-x-reverse bg-primary hover:bg-primary/90 text-white",children:[e.jsx(be,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"إضافة جديد"}),e.jsx(_,{className:"h-4 w-4"})]}),o&&e.jsx("div",{className:"absolute left-0 mt-2 w-48 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"py-1",children:[e.jsxs(S,{href:"/contracts/create",className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rtl:text-right",onClick:()=>h(!1),children:[e.jsx(L,{className:"h-4 w-4 ml-4 rtl:ml-0 rtl:mr-4"}),e.jsx("span",{className:"mr-2 rtl:mr-0 rtl:ml-2",children:"عقد جديد"})]}),e.jsxs(S,{href:"/inventory/create",className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rtl:text-right",onClick:()=>h(!1),children:[e.jsx(we,{className:"h-4 w-4 ml-4 rtl:ml-0 rtl:mr-4"}),e.jsx("span",{className:"mr-2 rtl:mr-0 rtl:ml-2",children:"إضافة معدة"})]}),e.jsxs(S,{href:"/customers/create",className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rtl:text-right",onClick:()=>h(!1),children:[e.jsx(V,{className:"h-4 w-4 ml-4 rtl:ml-0 rtl:mr-4"}),e.jsx("span",{className:"mr-2 rtl:mr-0 rtl:ml-2",children:"عميل جديد"})]})]})})]}),e.jsxs(k,{variant:"ghost",size:"sm",className:"relative p-2",children:[e.jsx(oe,{className:"h-5 w-5"}),e.jsx("span",{className:"absolute -top-1 -left-1 h-3 w-3 bg-red-500 rounded-full text-xs flex items-center justify-center text-white",children:"3"})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:M,className:"p-2",title:n(),"aria-label":n(),children:i()}),e.jsxs("div",{className:"relative",ref:b,children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3 rtl:space-x-reverse",children:[e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:re==="ADMIN"?"مدير النظام":"مستخدم"})]}),e.jsx(k,{variant:"ghost",size:"sm",className:"p-2",onClick:()=>r(!p),children:e.jsx(ve,{className:"h-5 w-5"})})]}),p&&e.jsx("div",{className:"absolute left-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:e.jsxs("div",{className:"py-2",children:[e.jsx("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center space-x-3 rtl:space-x-reverse",children:[e.jsx("div",{className:"w-10 h-10 bg-primary rounded-full flex items-center justify-center",children:e.jsx(F,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:f}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:se})]})]})}),e.jsxs(S,{href:"/dashboard/profile",className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rtl:text-right",onClick:()=>r(!1),children:[e.jsx(F,{className:"h-4 w-4 ml-4 rtl:ml-0 rtl:mr-4"}),e.jsx("span",{className:"mr-2 rtl:mr-0 rtl:ml-2",children:"الملف الشخصي"})]}),e.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 my-1"}),e.jsxs("button",{onClick:()=>{r(!1),j(!0)},className:"flex items-center w-full px-4 py-3 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rtl:text-right",children:[e.jsx(G,{className:"h-4 w-4 ml-4 rtl:ml-0 rtl:mr-4"}),e.jsx("span",{className:"mr-2 rtl:mr-0 rtl:ml-2",children:"تسجيل الخروج"})]})]})})]})]})]}),e.jsx(ae,{open:N,onOpenChange:j,onConfirm:()=>{E.post("/logout",{},{onSuccess:()=>{j(!1)}})},title:"تأكيد تسجيل الخروج",description:"هل أنت متأكد من رغبتك في تسجيل الخروج؟ سيتم إغلاق جلسة العمل الحالية.",confirmText:"تسجيل الخروج",cancelText:"إلغاء",variant:"warning"})]})}function He({children:v}){const{auth:l}=O().props,[c,g]=s.useState("main-dashboard"),[m,o]=s.useState(!0),h=s.useMemo(()=>({"/dashboard":"main-dashboard","/dashboard/dashboard-interactive":"dashboard-interactive","/dashboard/operations-reports":"operations-reports","/dashboard/customer-reports":"customer-reports","/dashboard/customer-management":"customer-management","/dashboard/customer-contracts":"customer-contracts","/dashboard/customer-claims":"customer-claims","/contracts":"contract-management","/contracts/create":"contract-management","/contracts/edit":"contract-management","/contracts/active":"active-contracts","/contracts/expired":"expired-contracts","/contracts/cancelled":"cancelled-contracts","/dashboard/contract-management":"contract-management","/dashboard/supplier-management":"supplier-management","/dashboard/supplier-invoices":"supplier-invoices","/dashboard/supplier-purchases":"supplier-purchases","/dashboard/inventory-status":"inventory-status","/dashboard/purchase-equipment":"purchase-equipment","/dashboard/purchases-list":"purchases-list","/dashboard/active-contracts":"active-contracts","/dashboard/expired-contracts":"expired-contracts","/dashboard/cancelled-contracts":"cancelled-contracts","/dashboard/electronic-signature":"electronic-signature","/dashboard/locations":"settings-governorates","/dashboard/locations/governorates":"settings-governorates","/dashboard/locations/wilayats":"settings-wilayats","/dashboard/locations/regions":"settings-regions","/dashboard/delivery-orders":"delivery-orders","/dashboard/shipping-tracking":"shipping-tracking","/dashboard/delivery-receipt":"delivery-receipt","/dashboard/return-inspection":"return-inspection","/dashboard/payment-management":"payment-management","/dashboard/purchase-management":"purchase-management","/dashboard/invoices":"invoices","/dashboard/financial-reports":"financial-reports","/dashboard/smtp-settings":"smtp-settings","/dashboard/employee-management":"employee-management","/employees":"employee-management","/employees/salaries":"salaries","/employees/incentives":"incentives","/employees/attendance":"attendance","/employees/attendance/reports":"attendance","/employees/departments":"departments","/employees/leaves":"leaves","/dashboard/user-roles":"user-roles","/dashboard/permission-groups":"permission-groups","/dashboard/roles":"roles","/payments":"all-payments","/payments/create":"all-payments","/payments/late":"late-payments","/payments/reports":"payment-reports","/dashboard/profile":"profile"}),[]),p=s.useCallback(t=>t.startsWith("/contracts")?t.includes("/active")?"active-contracts":t.includes("/expired")?"expired-contracts":t.includes("/cancelled")?"cancelled-contracts":"contract-management":t.startsWith("/dashboard/contract-details/")?"contract-management":t.startsWith("/employees/attendance")?"attendance":t.startsWith("/employees/salaries")?"salaries":t.startsWith("/employees/incentives")?"incentives":t.startsWith("/employees/departments")?"departments":t.startsWith("/employees/leaves")?"leaves":t.startsWith("/payments")?t.includes("/late")?"late-payments":t.includes("/reports")?"payment-reports":"all-payments":t.startsWith("/employees")?"employee-management":h[t]||"main-dashboard",[h]);s.useEffect(()=>{const t=window.location.pathname,y=p(t);y!==c&&g(y)},[p,c]);const r=s.useCallback(()=>{o(t=>!t)},[]),d=s.useCallback(()=>{o(!1)},[]);return s.useEffect(()=>{l?.user||E.visit("/login")},[l]),l?.user?e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[m&&e.jsx(Me,{activeSection:c,onSectionChange:g,onClose:d}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0 lg:min-h-screen",children:[e.jsx(Ce,{onToggleSidebar:r,isSidebarOpen:m}),e.jsx("main",{className:"flex-1 p-3 sm:p-4 lg:p-6 xl:p-8 overflow-x-auto",children:e.jsx("div",{className:"max-w-full",children:v})})]})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"جاري التحميل..."})]})})}export{I as A,de as B,Z as C,He as D,ue as K,be as P,q as R,fe as S,A as T,ve as U,we as W,T as X,H as a,ae as b,me as c,U as d,ye as e,Q as f,R as g,V as h,_ as i,he as j,X as k,W as l};
