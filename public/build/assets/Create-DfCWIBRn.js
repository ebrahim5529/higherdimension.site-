import{u as N,a as y,b as k,j as e,H as w,r as p}from"./app-Csm-iHha.js";import{D as C,U as g,B as j,f as P,g as T}from"./DashboardLayout-Cv7OrucU.js";import{C as m,b as x,c as h,a as u}from"./card-DK7p6fT7.js";import{B as b,c as i}from"./button-BD60Hi05.js";import{I as t}from"./input-D_EIzP2p.js";import{s as o}from"./use-toast-6Skx-iq7.js";import{s as A,N as D,a as S}from"./NationalitySelector-HLsLZzk3.js";import{A as I}from"./arrow-left-nYxIxt5R.js";import{P as V}from"./phone-BXhcm_g2.js";import{M as E}from"./mail-BKjau6ij.js";import{M as B}from"./map-pin-yOXAGFnc.js";import{S as M}from"./star-KJUJYIjn.js";import{B as U}from"./building-DmAoE4yV.js";import{F}from"./file-text-DQNSwVpm.js";import{T as L}from"./triangle-alert-BmMxnEwo.js";import{S as R}from"./save-Dlfj-mhU.js";/* empty css            */import"./createLucideIcon-C6GUZ6dL.js";import"./eye-BT0mqwWW.js";function te(){const{flash:n}=N().props;y.useEffect(()=>{n?.success&&o.success("نجح",n.success),n?.error&&o.error("خطأ",n.error)},[n]);const{data:a,setData:l,post:v,processing:d,errors:c}=k({name:"",email:"",phone:"",address:"",nationality:"",supplierType:"INDIVIDUAL",idNumber:"",commercialRecord:"",taxNumber:"",status:"ACTIVE",registrationDate:new Date().toISOString().split("T")[0],contactPerson:"",contactPersonPhone:"",contactPersonEmail:"",bankName:"",bankAccount:"",iban:"",swiftCode:"",notes:"",warnings:"",rating:""}),f=s=>{s.preventDefault(),v("/suppliers",{onSuccess:()=>{o.success("تم الإنشاء بنجاح","تم إنشاء المورد بنجاح"),p.visit("/suppliers")},onError:r=>{r.message?o.error("خطأ في الإنشاء",r.message):o.error("خطأ في الإنشاء","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(C,{children:[e.jsx(w,{title:"إضافة مورد جديد"}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>p.visit("/suppliers"),children:e.jsx(I,{className:"h-4 w-4"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(g,{className:"h-6 w-6"}),"إضافة مورد جديد"]})})]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(g,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsx(u,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["اسم المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(t,{type:"text",value:a.name,onChange:s=>l("name",s.target.value),placeholder:"أدخل اسم المورد",className:c.name?"border-red-500":""}),c.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["نوع المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:A.map(s=>e.jsxs("button",{type:"button",onClick:()=>l("supplierType",s.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${a.supplierType===s.value?"bg-primary text-white border-primary":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[s.value==="COMPANY"?e.jsx(j,{className:"h-4 w-4"}):e.jsx(g,{className:"h-4 w-4"}),s.label]},s.value))})]}),a.supplierType==="INDIVIDUAL"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهوية"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(t,{type:"text",value:a.idNumber,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("idNumber",r)},className:"pr-10",placeholder:"أدخل رقم الهوية"})]})]}),a.supplierType==="COMPANY"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"السجل التجاري"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(t,{type:"text",value:a.commercialRecord,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("commercialRecord",r)},className:"pr-10",placeholder:"أدخل السجل التجاري"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الرقم الضريبي"}),e.jsx(t,{type:"text",value:a.taxNumber,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("taxNumber",r)},placeholder:"أدخل الرقم الضريبي"})]})]}),e.jsx("div",{children:e.jsx(D,{value:a.nationality,onChange:s=>l("nationality",s),disabled:d,label:"الجنسية",required:!1})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(t,{type:"tel",value:a.phone,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("phone",r)},className:"pr-10",placeholder:"أدخل رقم الهاتف"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(E,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(t,{type:"email",value:a.email,onChange:s=>l("email",s.target.value),className:"pr-10",placeholder:"أدخل البريد الإلكتروني"})]}),c.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"العنوان"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{value:a.address,onChange:s=>l("address",s.target.value),rows:3,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل العنوان الكامل"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"حالة المورد"}),e.jsx("select",{value:a.status,onChange:s=>l("status",s.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:S.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التقييم"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("select",{value:a.rating,onChange:s=>l("rating",s.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر التقييم"}),e.jsx("option",{value:"1",children:"1 - ضعيف"}),e.jsx("option",{value:"2",children:"2 - مقبول"}),e.jsx("option",{value:"3",children:"3 - جيد"}),e.jsx("option",{value:"4",children:"4 - جيد جداً"}),e.jsx("option",{value:"5",children:"5 - ممتاز"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"تاريخ التسجيل"}),e.jsx(t,{type:"date",value:a.registrationDate,onChange:s=>l("registrationDate",s.target.value)})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"معلومات الشخص المسؤول"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم الشخص المسؤول"}),e.jsx(t,{type:"text",value:a.contactPerson,onChange:s=>l("contactPerson",s.target.value),placeholder:"أدخل اسم الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"هاتف الشخص المسؤول"}),e.jsx(t,{type:"tel",value:a.contactPersonPhone,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("contactPersonPhone",r)},placeholder:"أدخل هاتف الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"بريد الشخص المسؤول"}),e.jsx(t,{type:"email",value:a.contactPersonEmail,onChange:s=>l("contactPersonEmail",s.target.value),placeholder:"أدخل بريد الشخص المسؤول"})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"معلومات البنك"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم البنك"}),e.jsx(t,{type:"text",value:a.bankName,onChange:s=>l("bankName",s.target.value),placeholder:"أدخل اسم البنك"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الحساب"}),e.jsx(t,{type:"text",value:a.bankAccount,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("bankAccount",r)},placeholder:"أدخل رقم الحساب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الآيبان"}),e.jsx(t,{type:"text",value:a.iban,onChange:s=>{const r=i(s.target.value);s.target.value=r,l("iban",r)},placeholder:"أدخل رقم الآيبان"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رمز السويفت"}),e.jsx(t,{type:"text",value:a.swiftCode,onChange:s=>l("swiftCode",s.target.value),placeholder:"أدخل رمز السويفت"})]})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsxs(h,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"الملاحظات والتحذيرات"]})}),e.jsx(u,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ملاحظات عامة"}),e.jsx("textarea",{value:a.notes,onChange:s=>l("notes",s.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي ملاحظات عامة عن المورد"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-red-500"}),"تحذيرات خاصة"]}),e.jsx("textarea",{value:a.warnings,onChange:s=>l("warnings",s.target.value),rows:4,className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي تحذيرات خاصة عن المورد"})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>p.visit("/suppliers"),disabled:d,children:"إلغاء"}),e.jsxs(b,{type:"submit",disabled:d,className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),d?"جاري الحفظ...":"حفظ المورد"]})]})]})]})]})}export{te as default};
