import{j as e,a as o,u as R,H as A,r as b}from"./app-BIhr450z.js";import{h as P,U as E,B as C,a as F,l as k,c as z,P as O,S as $,i as M,e as K,D as U,j as w,b as L}from"./DashboardLayout-CBQGaYZE.js";import{M as H}from"./map-pin-Dv4c3MxI.js";import{F as S}from"./file-text-DVqpShJC.js";import{u as W,f as V,g as B,a as Y,b as G,c as q}from"./index-Cy_ri9Bc.js";import{C as _,b as J,c as Q,a as X}from"./card-DqHn0SPd.js";import{B as l}from"./button-Da4h0f09.js";import{T as Z}from"./triangle-alert-CDRhZIn-.js";import{S as ee}from"./star-4daeJj5I.js";import{E as se}from"./eye-B0nuYYN6.js";import{S as re}from"./square-pen-CWuDt0ab.js";import{P as ae}from"./phone-COCfyZs4.js";import{M as te}from"./mail-zT1IJ1Vi.js";import{T as ie}from"./trash-2-By4SauNU.js";import{D as le}from"./download-C3czSFeX.js";import{F as ne}from"./filter-BiMg4Us0.js";import{C as I}from"./chevron-up-BlwEKBhp.js";import{C as oe}from"./chevron-left-Dwsx6WVZ.js";import{s as h}from"./use-toast-BrykXac5.js";/* empty css            */import"./createLucideIcon-nuJcrfB5.js";function ce({stats:a}){return a?e.jsx("div",{className:"w-full",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"إجمالي الموردين"}),e.jsx("div",{className:"text-2xl font-bold text-primary group-hover:text-primary/80 transition-colors duration-300 font-tajawal",children:a.totalSuppliers||0}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.activeSuppliers||0," نشط، ",a.inactiveSuppliers||0," غير نشط"]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(P,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"أنواع الموردين"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"أفراد"})]}),e.jsx("span",{className:"text-sm font-medium text-primary",children:a.individualSuppliers||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"شركات"})]}),e.jsx("span",{className:"text-sm font-medium text-primary",children:a.companySuppliers||0})]})]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(C,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"توزيع الجنسيات"}),e.jsxs("div",{className:"space-y-2",children:[a.nationalityDistribution&&Object.entries(a.nationalityDistribution).slice(0,3).map(([c,n])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm truncate",children:c}),e.jsx("span",{className:"text-sm font-medium text-primary",children:n})]},c)),(!a.nationalityDistribution||Object.keys(a.nationalityDistribution).length===0)&&e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:"لا توجد بيانات"}),a.nationalityDistribution&&Object.keys(a.nationalityDistribution).length>3&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center pt-1",children:["+",Object.keys(a.nationalityDistribution).length-3," أخرى"]})]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(H,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"الفواتير"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"إجمالي الفواتير"})]}),e.jsx("span",{className:"text-sm font-medium text-primary",children:a.totalInvoices||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"إجمالي المبلغ"})]}),e.jsxs("span",{className:"text-sm font-medium text-primary",children:[a.totalInvoiceAmount?.toLocaleString()||0," ر.ع"]})]})]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(S,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"المشتريات"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"إجمالي المشتريات"})]}),e.jsx("span",{className:"text-sm font-medium text-primary",children:a.totalPurchases||0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"إجمالي المبلغ"})]}),e.jsxs("span",{className:"text-sm font-medium text-primary",children:[a.totalPurchaseAmount?.toLocaleString()||0," ر.ع"]})]})]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(k,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:bg-primary/5 hover:border-primary/30 hover:shadow-lg hover:shadow-primary/20 hover:scale-105 transition-all duration-300 cursor-pointer group min-h-[120px]",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-sm text-gray-600 dark:text-gray-400 group-hover:text-primary transition-colors duration-300 font-almarai mb-2",children:"التقييم المتوسط"}),e.jsxs("div",{className:"text-2xl font-bold text-primary group-hover:text-primary/80 transition-colors duration-300 font-tajawal",children:[a.averageRating?a.averageRating.toFixed(1):"0.0","/5"]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[a.suppliersWithWarnings||0," مورد لديه تحذيرات"]})]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg group-hover:bg-primary/20 transition-all duration-300",children:e.jsx(P,{className:"h-6 w-6 text-primary group-hover:scale-110 transition-transform duration-300"})})]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-full"})]})})})}function de({data:a,onAddSupplier:c,onEditSupplier:n,onDeleteSupplier:p,onViewSupplier:d,onExportSuppliers:m}){const[u,N]=o.useState([]),[v,y]=o.useState([]),[j,x]=o.useState(""),[g,f]=o.useState(!1),i=o.useMemo(()=>[{accessorKey:"supplierNumber",header:"رقم المورد",cell:({row:r})=>e.jsx("div",{className:"font-medium text-primary",children:r.getValue("supplierNumber")})},{accessorKey:"name",header:"اسم المورد",cell:({row:r})=>e.jsxs("div",{className:"flex items-center gap-2",children:[r.original.supplierType==="COMPANY"?e.jsx(C,{className:"h-4 w-4 text-blue-600"}):e.jsx(E,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium",children:r.getValue("name")}),r.original.hasWarnings&&e.jsx(Z,{className:"h-4 w-4 text-red-500"})]})},{accessorKey:"supplierType",header:"نوع المورد",cell:({row:r})=>{const s=r.getValue("supplierType");return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s==="COMPANY"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:s==="COMPANY"?"شركة":"فرد"})}},{accessorKey:"status",header:"الحالة",cell:({row:r})=>{const s=r.getValue("status"),D={ACTIVE:{label:"نشط",className:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"},INACTIVE:{label:"غير نشط",className:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},SUSPENDED:{label:"معلق",className:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},T=D[s]||D.INACTIVE;return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.className}`,children:T.label})}},{accessorKey:"rating",header:"التقييم",cell:({row:r})=>{const s=r.getValue("rating");return s?e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-3 w-3 text-yellow-500 fill-current"}),e.jsxs("span",{className:"text-sm",children:[s,"/5"]})]}):e.jsx("span",{className:"text-sm text-muted-foreground",children:"-"})}},{accessorKey:"invoicesCount",header:"الفواتير",cell:({row:r})=>{const s=r.getValue("invoicesCount");return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-3 w-3 text-blue-600"}),e.jsx("span",{className:"text-sm",children:s||0})]})}},{accessorKey:"purchasesCount",header:"المشتريات",cell:({row:r})=>{const s=r.getValue("purchasesCount");return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3 text-purple-600"}),e.jsx("span",{className:"text-sm",children:s||0})]})}},{accessorKey:"registrationDate",header:"تاريخ التسجيل",cell:({row:r})=>{const s=r.getValue("registrationDate");return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"}),e.jsx("span",{className:"text-sm",children:new Date(s).toLocaleDateString("ar-SA")})]})}},{id:"actions",header:"الإجراءات",cell:({row:r})=>{const s=r.original;return e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>d(s),className:"h-8 w-8 p-0",title:"عرض التفاصيل",children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>n(s),className:"h-8 w-8 p-0",title:"تعديل",children:e.jsx(re,{className:"h-4 w-4"})}),s.phone&&e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>window.open(`tel:${s.phone}`),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700",title:`اتصال: ${s.phone}`,children:e.jsx(ae,{className:"h-4 w-4"})}),s.email&&e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>window.open(`mailto:${s.email}`),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",title:`إرسال بريد: ${s.email}`,children:e.jsx(te,{className:"h-4 w-4"})}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>p(s),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",title:"حذف",children:e.jsx(ie,{className:"h-4 w-4"})})]})}}],[d,n,p]),t=W({data:a,columns:i,onSortingChange:N,onColumnFiltersChange:y,onGlobalFilterChange:x,getCoreRowModel:q(),getFilteredRowModel:G(),getSortedRowModel:Y(),getPaginationRowModel:B(),state:{sorting:u,columnFilters:v,globalFilter:j},initialState:{pagination:{pageSize:10}}});return e.jsxs(_,{children:[e.jsx(J,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(Q,{children:"قائمة الموردين"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:m,className:"flex items-center gap-2",children:[e.jsx(le,{className:"h-4 w-4"}),"تصدير"]}),e.jsxs(l,{onClick:c,className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"إضافة مورد"]})]})]})}),e.jsxs(X,{children:[e.jsxs("div",{className:"mb-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx($,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx("input",{type:"text",placeholder:"البحث في الموردين...",value:j,onChange:r=>x(r.target.value),className:"w-full pr-10 pl-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800"})]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>f(!g),className:"flex items-center gap-2",children:[e.jsx(ne,{className:"h-4 w-4"}),"فلترة",g?e.jsx(I,{className:"h-4 w-4"}):e.jsx(M,{className:"h-4 w-4"})]})]}),g&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الحالة"}),e.jsxs("select",{value:t.getColumn("status")?.getFilterValue()??"",onChange:r=>t.getColumn("status")?.setFilterValue(r.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700",children:[e.jsx("option",{value:"",children:"جميع الحالات"}),e.jsx("option",{value:"ACTIVE",children:"نشط"}),e.jsx("option",{value:"INACTIVE",children:"غير نشط"}),e.jsx("option",{value:"SUSPENDED",children:"معلق"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نوع المورد"}),e.jsxs("select",{value:t.getColumn("supplierType")?.getFilterValue()??"",onChange:r=>t.getColumn("supplierType")?.setFilterValue(r.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700",children:[e.jsx("option",{value:"",children:"جميع الأنواع"}),e.jsx("option",{value:"INDIVIDUAL",children:"فرد"}),e.jsx("option",{value:"COMPANY",children:"شركة"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الترتيب حسب"}),e.jsxs("select",{onChange:r=>{const s=r.target.value;if(s)switch(s){case"newest":t.getColumn("registrationDate")?.toggleSorting(!1);break;case"oldest":t.getColumn("registrationDate")?.toggleSorting(!0);break;case"rating-high":t.getColumn("rating")?.toggleSorting(!1);break;case"rating-low":t.getColumn("rating")?.toggleSorting(!0);break}},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-700",children:[e.jsx("option",{value:"",children:"اختر الترتيب"}),e.jsx("option",{value:"newest",children:"الأحدث أولاً"}),e.jsx("option",{value:"oldest",children:"الأقدم أولاً"}),e.jsx("option",{value:"rating-high",children:"أعلى تقييم أولاً"}),e.jsx("option",{value:"rating-low",children:"أقل تقييم أولاً"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{t.resetColumnFilters(),x("")},className:"w-full",children:"مسح جميع الفلاتر"})})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[1000px]",children:[e.jsx("thead",{children:t.getHeaderGroups().map(r=>e.jsx("tr",{className:"border-b bg-gray-50 dark:bg-gray-800",children:r.headers.map(s=>e.jsx("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900 dark:text-gray-100 whitespace-nowrap",children:s.isPlaceholder?null:e.jsxs("div",{className:s.column.getCanSort()?"cursor-pointer select-none flex items-center gap-1":"",onClick:s.column.getToggleSortingHandler(),children:[V(s.column.columnDef.header,s.getContext()),s.column.getCanSort()&&e.jsx("div",{className:"flex flex-col",children:s.column.getIsSorted()==="asc"?e.jsx(I,{className:"h-3 w-3"}):s.column.getIsSorted()==="desc"?e.jsx(M,{className:"h-3 w-3"}):e.jsx("div",{className:"h-3 w-3"})})]})},s.id))},r.id))}),e.jsx("tbody",{children:t.getRowModel().rows?.length?t.getRowModel().rows.map(r=>e.jsx("tr",{className:"border-b hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:r.getVisibleCells().map(s=>e.jsx("td",{className:"px-4 py-3 text-sm whitespace-nowrap",children:V(s.column.columnDef.cell,s.getContext())},s.id))},r.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:i.length,className:"h-24 text-center text-muted-foreground",children:"لا توجد بيانات للعرض"})})})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-sm text-muted-foreground",children:["عرض ",t.getState().pagination.pageIndex*t.getState().pagination.pageSize+1," إلى"," ",Math.min((t.getState().pagination.pageIndex+1)*t.getState().pagination.pageSize,t.getFilteredRowModel().rows.length)," ","من ",t.getFilteredRowModel().rows.length," مورد"]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:[e.jsx(oe,{className:"h-4 w-4"}),"السابق"]}),e.jsxs("span",{className:"text-sm",children:["صفحة ",t.getState().pagination.pageIndex+1," من ",t.getPageCount()]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:["التالي",e.jsx(K,{className:"h-4 w-4"})]})]})]})]})]})}function Ve({suppliers:a,stats:c}){const{flash:n}=R().props,[p,d]=o.useState(!1),[m,u]=o.useState(null);o.useEffect(()=>{n?.success&&h.success("نجح",n.success),n?.error&&h.error("خطأ",n.error)},[n]);const N=a.map(i=>({id:i.id.toString(),supplierNumber:i.supplierNumber,name:i.name,supplierType:i.supplierType,status:i.status,rating:i.rating||0,registrationDate:new Date(i.registrationDate),email:i.email,phone:i.phone,invoicesCount:i.invoicesCount,purchasesCount:i.purchasesCount,hasWarnings:i.hasWarnings})),v=()=>{b.visit("/suppliers/create")},y=i=>{b.visit(`/suppliers/${i.id}/edit`)},j=i=>{u(i),d(!0)},x=()=>{m&&b.delete(`/suppliers/${m.id}`,{onSuccess:()=>{h.success("تم الحذف بنجاح",`تم حذف المورد "${m.name}" بنجاح`),d(!1),u(null)},onError:i=>{h.error("فشل الحذف",i?.message||"حدث خطأ أثناء حذف المورد")}})},g=i=>{b.visit(`/suppliers/${i.id}`)},f=()=>{h.info("قريباً","سيتم إضافة ميزة التصدير قريباً")};return e.jsxs(U,{children:[e.jsx(A,{title:"إدارة الموردين"}),e.jsxs("div",{className:"w-full space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-xl font-semibold",children:"الموردين"})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-xl font-semibold",children:"إحصائيات الموردين"})]}),e.jsx(ce,{stats:c})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),e.jsx("h2",{className:"text-xl font-semibold",children:"قائمة الموردين"})]}),e.jsx(de,{data:N,onAddSupplier:v,onEditSupplier:y,onDeleteSupplier:j,onViewSupplier:g,onExportSuppliers:f})]}),e.jsx(L,{open:p,onOpenChange:d,onConfirm:x,title:"تأكيد حذف المورد",description:`هل أنت متأكد من حذف المورد "${m?.name}"؟ لا يمكن التراجع عن هذا الإجراء.`,confirmText:"حذف",cancelText:"إلغاء",variant:"danger"})]})]})}export{Ve as default};
