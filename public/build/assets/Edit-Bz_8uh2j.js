import{u,r as b,b as j,j as e,H as g,a as d}from"./app-CCHA9ub0.js";import{D as v,X as y}from"./DashboardLayout-BHw3dqES.js";import{C as N}from"./card-Bly1X19M.js";import{B as c}from"./button-Bfv0f9vZ.js";import{I as m}from"./input-BoE7gBrx.js";import{s as o}from"./use-toast-CTmzR8DA.js";import{A as f}from"./arrow-right-BSj7YbUL.js";import{S as _}from"./save-CMZXevOX.js";/* empty css            */import"./createLucideIcon-FmD0vq03.js";import"./triangle-alert-DWFl2Smt.js";import"./file-text-CauxPHHp.js";import"./eye-8DxskOvD.js";import"./shield-CQHunxOJ.js";import"./circle-alert-CjQBNfBa.js";import"./map-pin-DHI_P5OF.js";import"./mail-9UAeJwq9.js";function M({employee:a}){const{flash:i}=u().props;b.useEffect(()=>{i?.success&&o.success("نجح",i.success),i?.error&&o.error("خطأ",i.error)},[i]);const{data:r,setData:l,put:p,processing:n,errors:s}=j({employee_number:a.employee_number||"",name:a.name||"",position:a.position||"",department:a.department||"",email:a.email||"",phone:a.phone||"",hire_date:a.hire_date||new Date().toISOString().split("T")[0],status:a.status||"active",total_salary:a.total_salary||0}),h=t=>{t.preventDefault(),p(`/employees/${a.id}`,{onSuccess:()=>{o.success("تم التحديث بنجاح","تم تحديث بيانات الموظف بنجاح"),d.visit("/employees")},onError:x=>{x.message?o.error("خطأ في التحديث",x.message):o.error("خطأ في التحديث","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(v,{children:[e.jsx(g,{title:`تعديل الموظف: ${a.name}`}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>d.visit("/employees"),children:e.jsx(f,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"تعديل موظف"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"تعديل بيانات الموظف"})]})]})}),e.jsx(N,{className:"p-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 border-b border-gray-200 pb-2",children:"المعلومات الأساسية"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الموظف *"}),e.jsx(m,{type:"text",value:r.employee_number,onChange:t=>l("employee_number",t.target.value),placeholder:"EMP001",className:s.employee_number?"border-red-500":""}),s.employee_number&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.employee_number})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الاسم الكامل *"}),e.jsx(m,{type:"text",value:r.name,onChange:t=>l("name",t.target.value),placeholder:"مثال: أحمد محمد العلي",className:s.name?"border-red-500":""}),s.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"المنصب *"}),e.jsx(m,{type:"text",value:r.position,onChange:t=>l("position",t.target.value),placeholder:"مثال: مدير المبيعات",className:s.position?"border-red-500":""}),s.position&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.position})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"القسم *"}),e.jsx(m,{type:"text",value:r.department,onChange:t=>l("department",t.target.value),placeholder:"مثال: المبيعات",className:s.department?"border-red-500":""}),s.department&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.department})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"البريد الإلكتروني *"}),e.jsx(m,{type:"email",value:r.email,onChange:t=>l("email",t.target.value),placeholder:"example@company.com",className:s.email?"border-red-500":""}),s.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"رقم الهاتف"}),e.jsx(m,{type:"text",value:r.phone,onChange:t=>l("phone",t.target.value),placeholder:"+968 9123 4567",className:s.phone?"border-red-500":""}),s.phone&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"تاريخ التوظيف *"}),e.jsx(m,{type:"date",value:r.hire_date,onChange:t=>l("hire_date",t.target.value),className:s.hire_date?"border-red-500":""}),s.hire_date&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.hire_date})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الحالة *"}),e.jsxs("select",{value:r.status,onChange:t=>l("status",t.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"active",children:"نشط"}),e.jsx("option",{value:"inactive",children:"غير نشط"}),e.jsx("option",{value:"on_leave",children:"في إجازة"})]}),s.status&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"الراتب الإجمالي (ر.ع) *"}),e.jsx(m,{type:"number",step:"0.01",min:"0",value:r.total_salary,onChange:t=>l("total_salary",parseFloat(t.target.value)||0),placeholder:"0.00",className:s.total_salary?"border-red-500":""}),s.total_salary&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.total_salary})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsxs(c,{type:"button",variant:"outline",onClick:()=>d.visit("/employees"),disabled:n,className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"إلغاء"]}),e.jsxs(c,{type:"submit",disabled:n,className:"flex items-center gap-2",children:[e.jsx(_,{className:"h-4 w-4"}),n?"جاري الحفظ...":"تحديث الموظف"]})]})]})})]})]})}export{M as default};
