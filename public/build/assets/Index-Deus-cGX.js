import{a as C,b as j,j as s,H as _}from"./app-ClyPG4XB.js";import{D as k,U as u,k as N}from"./DashboardLayout-BP-LRFzf.js";import{C as c,b as d,c as n,d as g,a as i}from"./card-BZJIMjco.js";import{B as m}from"./button-BMwVA_QT.js";import{I as l}from"./input-D1Hoh4mi.js";import{L as o}from"./label-DahDygpq.js";import{s as x}from"./use-toast-BJ0Tf_9x.js";import{C as S}from"./circle-check-big-DxLPpM0c.js";import{M as D}from"./mail-ChU-aeZa.js";import{P as F}from"./phone-q1ZBKWv1.js";import{S as w}from"./save-DCR3fPiR.js";import{L as f}from"./lock-DYmGpIJs.js";/* empty css            */import"./createLucideIcon-DtSzf8_u.js";import"./triangle-alert-CrLr_4Lc.js";import"./file-text-6wZ5Vq-w.js";import"./eye-C8yWxAwb.js";function Q({user:t,flash:h}){const[v,p]=C.useState(!1),r=j({name:t.name,email:t.email,phone:t.phone||""}),e=j({current_password:"",password:"",password_confirmation:""}),b=a=>{a.preventDefault(),r.put("/profile",{preserveScroll:!0,onSuccess:()=>{x.success("نجح","تم تحديث معلومات الملف الشخصي بنجاح")},onError:()=>{x.error("خطأ","حدث خطأ أثناء تحديث المعلومات")}})},y=a=>{a.preventDefault(),e.put("/profile/password",{preserveScroll:!0,onSuccess:()=>{x.success("نجح","تم تغيير كلمة المرور بنجاح"),e.reset(),p(!1)},onError:()=>{x.error("خطأ","حدث خطأ أثناء تغيير كلمة المرور")}})};return s.jsxs(k,{children:[s.jsx(_,{title:"الملف الشخصي"}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(u,{className:"h-6 w-6 text-[#58d2c8]"}),s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"الملف الشخصي"})]}),h?.success&&s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-2",children:[s.jsx(S,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),s.jsx("p",{className:"text-green-800 dark:text-green-200",children:h.success})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(c,{children:[s.jsxs(d,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(u,{className:"h-5 w-5"}),"المعلومات الشخصية"]}),s.jsx(g,{children:"قم بتحديث معلوماتك الشخصية"})]}),s.jsx(i,{children:s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"name",children:"الاسم"}),s.jsx(l,{id:"name",type:"text",value:r.data.name,onChange:a=>r.setData("name",a.target.value),className:r.errors.name?"border-red-500":""}),r.errors.name&&s.jsx("p",{className:"text-sm text-red-500",children:r.errors.name})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(o,{htmlFor:"email",className:"flex items-center gap-2",children:[s.jsx(D,{className:"h-4 w-4"}),"البريد الإلكتروني"]}),s.jsx(l,{id:"email",type:"email",value:r.data.email,onChange:a=>r.setData("email",a.target.value),className:r.errors.email?"border-red-500":""}),r.errors.email&&s.jsx("p",{className:"text-sm text-red-500",children:r.errors.email})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(o,{htmlFor:"phone",className:"flex items-center gap-2",children:[s.jsx(F,{className:"h-4 w-4"}),"رقم الهاتف"]}),s.jsx(l,{id:"phone",type:"tel",value:r.data.phone,onChange:a=>r.setData("phone",a.target.value),className:r.errors.phone?"border-red-500":""}),r.errors.phone&&s.jsx("p",{className:"text-sm text-red-500",children:r.errors.phone})]}),s.jsxs(m,{type:"submit",disabled:r.processing,className:"w-full sm:w-auto",children:[s.jsx(w,{className:"h-4 w-4 ml-2"}),r.processing?"جاري الحفظ...":"حفظ التغييرات"]})]})})]}),s.jsxs(c,{children:[s.jsxs(d,{children:[s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(f,{className:"h-5 w-5"}),"تغيير كلمة المرور"]}),s.jsx(g,{children:"قم بتغيير كلمة المرور الخاصة بك"})]}),s.jsx(i,{children:v?s.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"current_password",children:"كلمة المرور الحالية"}),s.jsx(l,{id:"current_password",type:"password",value:e.data.current_password,onChange:a=>e.setData("current_password",a.target.value),className:e.errors.current_password?"border-red-500":""}),e.errors.current_password&&s.jsx("p",{className:"text-sm text-red-500",children:e.errors.current_password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password",children:"كلمة المرور الجديدة"}),s.jsx(l,{id:"password",type:"password",value:e.data.password,onChange:a=>e.setData("password",a.target.value),className:e.errors.password?"border-red-500":""}),e.errors.password&&s.jsx("p",{className:"text-sm text-red-500",children:e.errors.password})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(o,{htmlFor:"password_confirmation",children:"تأكيد كلمة المرور"}),s.jsx(l,{id:"password_confirmation",type:"password",value:e.data.password_confirmation,onChange:a=>e.setData("password_confirmation",a.target.value),className:e.errors.password_confirmation?"border-red-500":""}),e.errors.password_confirmation&&s.jsx("p",{className:"text-sm text-red-500",children:e.errors.password_confirmation})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(m,{type:"submit",disabled:e.processing,className:"flex-1",children:[s.jsx(w,{className:"h-4 w-4 ml-2"}),e.processing?"جاري الحفظ...":"حفظ كلمة المرور"]}),s.jsx(m,{type:"button",variant:"outline",onClick:()=>{p(!1),e.reset()},children:"إلغاء"})]})]}):s.jsxs(m,{onClick:()=>p(!0),variant:"outline",className:"w-full",children:[s.jsx(f,{className:"h-4 w-4 ml-2"}),"تغيير كلمة المرور"]})})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs(c,{children:[s.jsx(d,{children:s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(N,{className:"h-5 w-5"}),"الأدوار"]})}),s.jsx(i,{children:t.roles&&t.roles.length>0?s.jsx("div",{className:"space-y-2",children:t.roles.map(a=>s.jsx("div",{className:"px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300",children:a},a))}):s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"لا توجد أدوار محددة"})})]}),s.jsxs(c,{children:[s.jsx(d,{children:s.jsxs(n,{className:"flex items-center gap-2",children:[s.jsx(N,{className:"h-5 w-5"}),"الصلاحيات"]})}),s.jsx(i,{children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-[#58d2c8]",children:t.permissions?.length||0}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"صلاحية متاحة"})]})})]})]})]})]})]})}export{Q as default};
