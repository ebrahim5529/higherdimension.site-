import{a as u,j as e,b as g,H as D}from"./app-CgSVc5Wn.js";import{D as k,g as w}from"./DashboardLayout-BIO_sjjx.js";import{C as n,b as m,c as x,d as v,a as p}from"./card-Dywtg_PO.js";import{e as P,a as F,f as E,B as h}from"./button-BGcazaoI.js";import{I as d}from"./input-CkIX0MbD.js";import{s as j}from"./use-toast-DoooC-Gp.js";import{U as b}from"./user-GZG2W0xx.js";import{C as L}from"./circle-check-big-CZPbl506.js";import{M}from"./mail-icFQpcg2.js";import{P as R}from"./phone-CwWBW5Yr.js";import{S as y}from"./save-Ba30BxBM.js";import{L as C}from"./lock-B3oCtery.js";/* empty css            */import"./eye-Cjz6YKgE.js";var B=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H=B.reduce((t,l)=>{const o=P(`Primitive.${l}`),i=u.forwardRef((r,s)=>{const{asChild:f,...N}=r,a=f?o:l;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(a,{...N,ref:s})});return i.displayName=`Primitive.${l}`,{...t,[l]:i}},{}),$="Label",S=u.forwardRef((t,l)=>e.jsx(H.label,{...t,ref:l,onMouseDown:o=>{o.target.closest("button, input, select, textarea")||(t.onMouseDown?.(o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));S.displayName=$;var _=S;const I=E("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=u.forwardRef(({className:t,...l},o)=>e.jsx(_,{ref:o,className:F(I(),t),...l}));c.displayName=_.displayName;function Z({user:t,flash:l}){const[o,i]=u.useState(!1),r=g({name:t.name,email:t.email,phone:t.phone||""}),s=g({current_password:"",password:"",password_confirmation:""}),f=a=>{a.preventDefault(),r.put("/profile",{preserveScroll:!0,onSuccess:()=>{j.success("نجح","تم تحديث معلومات الملف الشخصي بنجاح")},onError:()=>{j.error("خطأ","حدث خطأ أثناء تحديث المعلومات")}})},N=a=>{a.preventDefault(),s.put("/profile/password",{preserveScroll:!0,onSuccess:()=>{j.success("نجح","تم تغيير كلمة المرور بنجاح"),s.reset(),i(!1)},onError:()=>{j.error("خطأ","حدث خطأ أثناء تغيير كلمة المرور")}})};return e.jsxs(k,{children:[e.jsx(D,{title:"الملف الشخصي"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-6 w-6 text-[#58d2c8]"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"الملف الشخصي"})]}),l?.success&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-green-600 dark:text-green-400"}),e.jsx("p",{className:"text-green-800 dark:text-green-200",children:l.success})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(b,{className:"h-5 w-5"}),"المعلومات الشخصية"]}),e.jsx(v,{children:"قم بتحديث معلوماتك الشخصية"})]}),e.jsx(p,{children:e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"الاسم"}),e.jsx(d,{id:"name",type:"text",value:r.data.name,onChange:a=>r.setData("name",a.target.value),className:r.errors.name?"border-red-500":""}),r.errors.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.errors.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"email",className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"البريد الإلكتروني"]}),e.jsx(d,{id:"email",type:"email",value:r.data.email,onChange:a=>r.setData("email",a.target.value),className:r.errors.email?"border-red-500":""}),r.errors.email&&e.jsx("p",{className:"text-sm text-red-500",children:r.errors.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"phone",className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"}),"رقم الهاتف"]}),e.jsx(d,{id:"phone",type:"tel",value:r.data.phone,onChange:a=>r.setData("phone",a.target.value),className:r.errors.phone?"border-red-500":""}),r.errors.phone&&e.jsx("p",{className:"text-sm text-red-500",children:r.errors.phone})]}),e.jsxs(h,{type:"submit",disabled:r.processing,className:"w-full sm:w-auto",children:[e.jsx(y,{className:"h-4 w-4 ml-2"}),r.processing?"جاري الحفظ...":"حفظ التغييرات"]})]})})]}),e.jsxs(n,{children:[e.jsxs(m,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),"تغيير كلمة المرور"]}),e.jsx(v,{children:"قم بتغيير كلمة المرور الخاصة بك"})]}),e.jsx(p,{children:o?e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"current_password",children:"كلمة المرور الحالية"}),e.jsx(d,{id:"current_password",type:"password",value:s.data.current_password,onChange:a=>s.setData("current_password",a.target.value),className:s.errors.current_password?"border-red-500":""}),s.errors.current_password&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.current_password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password",children:"كلمة المرور الجديدة"}),e.jsx(d,{id:"password",type:"password",value:s.data.password,onChange:a=>s.setData("password",a.target.value),className:s.errors.password?"border-red-500":""}),s.errors.password&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"password_confirmation",children:"تأكيد كلمة المرور"}),e.jsx(d,{id:"password_confirmation",type:"password",value:s.data.password_confirmation,onChange:a=>s.setData("password_confirmation",a.target.value),className:s.errors.password_confirmation?"border-red-500":""}),s.errors.password_confirmation&&e.jsx("p",{className:"text-sm text-red-500",children:s.errors.password_confirmation})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{type:"submit",disabled:s.processing,className:"flex-1",children:[e.jsx(y,{className:"h-4 w-4 ml-2"}),s.processing?"جاري الحفظ...":"حفظ كلمة المرور"]}),e.jsx(h,{type:"button",variant:"outline",onClick:()=>{i(!1),s.reset()},children:"إلغاء"})]})]}):e.jsxs(h,{onClick:()=>i(!0),variant:"outline",className:"w-full",children:[e.jsx(C,{className:"h-4 w-4 ml-2"}),"تغيير كلمة المرور"]})})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"الأدوار"]})}),e.jsx(p,{children:t.roles&&t.roles.length>0?e.jsx("div",{className:"space-y-2",children:t.roles.map(a=>e.jsx("div",{className:"px-3 py-2 bg-blue-50 dark:bg-blue-900/20 rounded-lg text-sm font-medium text-blue-700 dark:text-blue-300",children:a},a))}):e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"لا توجد أدوار محددة"})})]}),e.jsxs(n,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5"}),"الصلاحيات"]})}),e.jsx(p,{children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-[#58d2c8]",children:t.permissions?.length||0}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"صلاحية متاحة"})]})})]})]})]})]})]})}export{Z as default};
