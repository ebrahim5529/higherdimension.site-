import{r as l,j as e,H as w,a as o}from"./app-DwRfcN6X.js";import{D as C,B as p}from"./DashboardLayout-BU2B3eCa.js";import{C as g,a as y,b as _,c as S}from"./card-CNdQdVo4.js";import{B as j}from"./button-DHr1rW4g.js";import{I as b}from"./input-U_QZj2le.js";import{F as D}from"./filter-AR_J07is.js";/* empty css            */import"./createLucideIcon-DC1RPDG7.js";import"./triangle-alert-CYfjpRdb.js";import"./x-gOtp1dkx.js";import"./file-text-BYPGuL12.js";import"./eye-I9j4Fhu2.js";import"./shield-p0e6kCYj.js";import"./circle-alert-Dd_--HKV.js";import"./map-pin-D_FqHH6g.js";import"./mail-F3IImK8v.js";function M({items:a,accounts:u,filters:s}){const[n,c]=l.useState(s.date_from||""),[x,i]=l.useState(s.date_to||""),[m,h]=l.useState(s.account_id||""),N=()=>{o.get("/accounting/reports/general-ledger",{date_from:n||void 0,date_to:x||void 0,account_id:m||void 0},{preserveState:!0})},f=()=>{c(""),i(""),h(""),o.get("/accounting/reports/general-ledger")},r=t=>t.toLocaleString("ar-SA",{minimumFractionDigits:2}),v=a.reduce((t,d)=>t+d.debit,0),k=a.reduce((t,d)=>t+d.credit,0);return e.jsxs(C,{children:[e.jsx(w,{title:"دفتر الأستاذ العام"}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"دفتر الأستاذ العام"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"عرض جميع الحركات المحاسبية المرحّلة"})]}),e.jsx(g,{children:e.jsx(y,{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"min-w-[250px]",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 block",children:"الحساب"}),e.jsxs("select",{className:"w-full rounded-md border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 px-3 py-2 text-sm",value:m,onChange:t=>h(t.target.value),children:[e.jsx("option",{value:"",children:"جميع الحسابات"}),u.map(t=>e.jsxs("option",{value:t.id,children:[t.code," - ",t.name]},t.id))]})]}),e.jsxs("div",{className:"min-w-[180px]",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 block",children:"من تاريخ"}),e.jsx(b,{type:"date",value:n,onChange:t=>c(t.target.value)})]}),e.jsxs("div",{className:"min-w-[180px]",children:[e.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1 block",children:"إلى تاريخ"}),e.jsx(b,{type:"date",value:x,onChange:t=>i(t.target.value)})]}),e.jsxs(j,{onClick:N,className:"bg-[#58d2c8] hover:bg-[#4AB8B3] text-white",children:[e.jsx(D,{className:"h-4 w-4 ml-1"}),"تصفية"]}),e.jsx(j,{variant:"outline",onClick:f,children:"مسح"})]})})}),e.jsxs(g,{children:[e.jsx(_,{children:e.jsxs(S,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5"}),"دفتر الأستاذ العام",e.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",a.length," حركة)"]})]})}),e.jsx(y,{children:a.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(p,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"لا توجد حركات محاسبية لعرضها"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-300 dark:border-gray-600",children:[e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"التاريخ"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"رقم القيد"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"رمز الحساب"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"اسم الحساب"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"الوصف"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"مدين"}),e.jsx("th",{className:"text-right py-3 px-3 font-bold text-gray-700 dark:text-gray-300",children:"دائن"})]})}),e.jsx("tbody",{children:a.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50",children:[e.jsx("td",{className:"py-2 px-3",children:new Date(t.date).toLocaleDateString("ar-SA")}),e.jsx("td",{className:"py-2 px-3 font-mono",children:e.jsx("button",{onClick:()=>o.visit(`/accounting/journal-entries/${t.id}`),className:"text-[#58d2c8] hover:underline",children:t.entry_number})}),e.jsx("td",{className:"py-2 px-3 font-mono",children:t.account_code}),e.jsx("td",{className:"py-2 px-3",children:t.account_name}),e.jsx("td",{className:"py-2 px-3 text-gray-500 max-w-[200px] truncate",children:t.entry_description}),e.jsx("td",{className:"py-2 px-3 font-mono",children:t.debit>0?r(t.debit):"-"}),e.jsx("td",{className:"py-2 px-3 font-mono",children:t.credit>0?r(t.credit):"-"})]},t.id))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"border-t-2 border-gray-400 dark:border-gray-500 font-bold bg-gray-50 dark:bg-gray-800",children:[e.jsx("td",{colSpan:5,className:"py-3 px-3",children:"الإجمالي"}),e.jsx("td",{className:"py-3 px-3 font-mono",children:r(v)}),e.jsx("td",{className:"py-3 px-3 font-mono",children:r(k)})]})})]})})})]})]})]})}export{M as default};
