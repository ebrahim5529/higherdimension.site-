import{b as N,r as y,u as k,j as e,H as w,a as g}from"./app-D82DrFCd.js";import{D as C,U as u,B as p,f as P,g as T}from"./DashboardLayout-DcMAmy16.js";import{C as d,a as m,b as x,d as h}from"./card-DRvJanY-.js";import{B as b}from"./circle-alert-3MeTpwRy.js";import{I as l}from"./input-DOSntOr0.js";import{s as c}from"./use-toast-D0YLgtPf.js";import{s as D,N as A,a as S}from"./NationalitySelector-Da6Y7IH0.js";import{A as E}from"./arrow-left-DtZAcYdQ.js";import{P as I}from"./phone-BzzpMxZj.js";import{M as B}from"./mail-CEBRvuzG.js";import{M}from"./map-pin-CaPsoqIa.js";import{S as R}from"./star-7qqkll09.js";import{B as U}from"./building-CFrlrZkT.js";import{F}from"./file-text-yOBNPwsf.js";import{T as L}from"./triangle-alert-3SPaXazj.js";import{S as H}from"./save-V8BOweKa.js";/* empty css            */import"./createLucideIcon-DqjWOHkq.js";import"./eye-OLAE_IzF.js";import"./shield-CMB-bgTC.js";function ne({supplier:s}){const{flash:n}=N().props;y.useEffect(()=>{n?.success&&c.success("نجح",n.success),n?.error&&c.error("خطأ",n.error)},[n]);const{data:r,setData:t,put:v,processing:o,errors:i}=k({name:s.name||"",email:s.email||"",phone:s.phone||"",address:s.address||"",nationality:s.nationality||"",supplierType:s.supplierType||"INDIVIDUAL",idNumber:s.idNumber||"",commercialRecord:s.commercialRecord||"",taxNumber:s.taxNumber||"",status:s.status||"ACTIVE",registrationDate:s.registrationDate||new Date().toISOString().split("T")[0],contactPerson:s.contactPerson||"",contactPersonPhone:s.contactPersonPhone||"",contactPersonEmail:s.contactPersonEmail||"",bankName:s.bankName||"",bankAccount:s.bankAccount||"",iban:s.iban||"",swiftCode:s.swiftCode||"",notes:s.notes||"",warnings:s.warnings||"",rating:s.rating||""}),f=a=>{a.preventDefault(),v(`/suppliers/${s.id}`,{onSuccess:()=>{c.success("تم التحديث بنجاح","تم تحديث بيانات المورد بنجاح"),g.visit(`/suppliers/${s.id}`)},onError:j=>{j.message?c.error("خطأ في التحديث",j.message):c.error("خطأ في التحديث","يرجى التحقق من البيانات المدخلة")}})};return e.jsxs(C,{children:[e.jsx(w,{title:"تعديل بيانات المورد"}),e.jsxs("div",{className:"space-y-6 mt-2 -mx-1 sm:-mx-2 lg:-mx-3 xl:-mx-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(b,{variant:"ghost",size:"sm",onClick:()=>g.visit("/suppliers"),children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(u,{className:"h-6 w-6"}),"تعديل بيانات المورد"]})})]})}),e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),"المعلومات الأساسية"]})}),e.jsx(h,{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["اسم المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(l,{type:"text",value:r.name,onChange:a=>t("name",a.target.value),placeholder:"أدخل اسم المورد",className:i.name?"border-red-500":""}),i.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["نوع المورد ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:D.map(a=>e.jsxs("button",{type:"button",onClick:()=>t("supplierType",a.value),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${r.supplierType===a.value?"bg-primary text-white border-primary":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[a.value==="COMPANY"?e.jsx(p,{className:"h-4 w-4"}):e.jsx(u,{className:"h-4 w-4"}),a.label]},a.value))})]}),r.supplierType==="INDIVIDUAL"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهوية"}),e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"text",value:r.idNumber,onChange:a=>t("idNumber",a.target.value),className:"pr-10",placeholder:"أدخل رقم الهوية"})]})]}),r.supplierType==="COMPANY"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"السجل التجاري"}),e.jsxs("div",{className:"relative",children:[e.jsx(p,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"text",value:r.commercialRecord,onChange:a=>t("commercialRecord",a.target.value),className:"pr-10",placeholder:"أدخل السجل التجاري"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"الرقم الضريبي"}),e.jsx(l,{type:"text",value:r.taxNumber,onChange:a=>t("taxNumber",a.target.value),placeholder:"أدخل الرقم الضريبي"})]})]}),e.jsx("div",{children:e.jsx(A,{value:r.nationality,onChange:a=>t("nationality",a),disabled:o,label:"الجنسية",required:!1})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الهاتف"}),e.jsxs("div",{className:"relative",children:[e.jsx(I,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"tel",value:r.phone,onChange:a=>t("phone",a.target.value),className:"pr-10",placeholder:"أدخل رقم الهاتف"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(l,{type:"email",value:r.email,onChange:a=>t("email",a.target.value),className:"pr-10",placeholder:"أدخل البريد الإلكتروني"})]}),i.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:i.email})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"العنوان"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute right-3 top-3 h-4 w-4 text-gray-400"}),e.jsx("textarea",{value:r.address,onChange:a=>t("address",a.target.value),rows:3,className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل العنوان الكامل"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"حالة المورد"}),e.jsx("select",{value:r.status,onChange:a=>t("status",a.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:S.map(a=>e.jsx("option",{value:a.value,children:a.label},a.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"التقييم"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-yellow-500"}),e.jsxs("select",{value:r.rating,onChange:a=>t("rating",a.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",children:[e.jsx("option",{value:"",children:"اختر التقييم"}),e.jsx("option",{value:"1",children:"1 - ضعيف"}),e.jsx("option",{value:"2",children:"2 - مقبول"}),e.jsx("option",{value:"3",children:"3 - جيد"}),e.jsx("option",{value:"4",children:"4 - جيد جداً"}),e.jsx("option",{value:"5",children:"5 - ممتاز"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"تاريخ التسجيل"}),e.jsx(l,{type:"date",value:r.registrationDate,onChange:a=>t("registrationDate",a.target.value)})]})]})})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),"معلومات الشخص المسؤول"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم الشخص المسؤول"}),e.jsx(l,{type:"text",value:r.contactPerson,onChange:a=>t("contactPerson",a.target.value),placeholder:"أدخل اسم الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"هاتف الشخص المسؤول"}),e.jsx(l,{type:"tel",value:r.contactPersonPhone,onChange:a=>t("contactPersonPhone",a.target.value),placeholder:"أدخل هاتف الشخص المسؤول"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"بريد الشخص المسؤول"}),e.jsx(l,{type:"email",value:r.contactPersonEmail,onChange:a=>t("contactPersonEmail",a.target.value),placeholder:"أدخل بريد الشخص المسؤول"})]})]})})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"معلومات البنك"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"اسم البنك"}),e.jsx(l,{type:"text",value:r.bankName,onChange:a=>t("bankName",a.target.value),placeholder:"أدخل اسم البنك"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الحساب"}),e.jsx(l,{type:"text",value:r.bankAccount,onChange:a=>t("bankAccount",a.target.value),placeholder:"أدخل رقم الحساب"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رقم الآيبان"}),e.jsx(l,{type:"text",value:r.iban,onChange:a=>t("iban",a.target.value),placeholder:"أدخل رقم الآيبان"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"رمز السويفت"}),e.jsx(l,{type:"text",value:r.swiftCode,onChange:a=>t("swiftCode",a.target.value),placeholder:"أدخل رمز السويفت"})]})]})})]}),e.jsxs(d,{children:[e.jsx(m,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"الملاحظات والتحذيرات"]})}),e.jsx(h,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"ملاحظات عامة"}),e.jsx("textarea",{value:r.notes,onChange:a=>t("notes",a.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي ملاحظات عامة عن المورد"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1 flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-red-500"}),"تحذيرات خاصة"]}),e.jsx("textarea",{value:r.warnings,onChange:a=>t("warnings",a.target.value),rows:4,className:"w-full px-3 py-2 border border-red-300 dark:border-red-700 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent dark:bg-gray-800 dark:text-white",placeholder:"أدخل أي تحذيرات خاصة عن المورد"})]})]})})]}),e.jsxs("div",{className:"flex items-center justify-end gap-4 pt-6 border-t",children:[e.jsx(b,{type:"button",variant:"outline",onClick:()=>g.visit("/suppliers"),disabled:o,children:"إلغاء"}),e.jsxs(b,{type:"submit",disabled:o,className:"flex items-center gap-2",children:[e.jsx(H,{className:"h-4 w-4"}),o?"جاري الحفظ...":"حفظ التعديلات"]})]})]})]})]})}export{ne as default};
